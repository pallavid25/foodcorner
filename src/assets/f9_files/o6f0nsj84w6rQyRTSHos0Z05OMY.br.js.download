var MultiMotionStaticThumbnail;(function(n){function ct(){v||(v=!0,tt(_w,ot,lt,!0))}function lt(){r=[];v=!1}function at(n){if(r[n])return r[n].clientHeight}var ut="vhcic",ft="vhcicimg",et="vhcicimg_content",ot="unload",y="mmst",u="undefined",f=typeof VideoRichHoverUtils!=u?VideoRichHoverUtils:null,i=typeof VRHConsts!=u?VRHConsts:null,o=typeof SmartEvent!=u?SmartEvent:null,t=typeof pMMUtils!=u?pMMUtils:null,s=ThUrlGenerator,e=!1,h=null,p=null,w=null,b=null,k=null,d=null,c=null,l=null,g=null,nt=null,a=null,tt=null,r=[],v=!1,it=!1,st=null,rt;if(!e&&t&&t.gfbc&&t.sepd&&t.ga&&t.sa&&t.gebc&&t.ac&&t.sw&&t.sh&&t.adt&&f&&i&&f.showElement&&o&&o.bind&&(h=t.gfbc,p=t.gebc,b=t.ga,k=t.sa,d=t.ac,c=t.sw,l=t.sh,g=t.gsh,nt=t.adt,w=t.sepd,a=f.showElement,st=f.getThumbUrlOrMockThumbUrl,tt=o.bind,e=!0,it=t.isTest()),e&&_w&&!_w[y]){_w[y]=n;function ht(n,t,i,u,f){e&&n&&n.length>1&&(r[n]&&(r[n]=null),r[n]=new rt(t,i,u,f));return}ct();n.init=ht}n.clientHeight=at;rt=function(){function n(n,t,r,u){var f=this;(this.mmstImages=null,this.instMeta=null,this.lastSeekIndex=null,this.mmstLoaded=!1,this.resultThumbnailLoaded=!1,this.clientHeight=0,this.bindEvent=function(){sj_evt.bind(i.HoverThumbLoadEvt,f.onResultThumbnailLoaded);sj_evt.bind(i.FallbackToNonSMTEvt,f.onFallbackToNonSMT);sj_evt.bind(i.HoverCancelEvt,f.onHoverCancel)},this.unBindEvent=function(){f.onFallbackToNonSMT();sj_evt.unbind(i.HoverThumbLoadEvt,f.onResultThumbnailLoaded);sj_evt.unbind(i.FallbackToNonSMTEvt,f.onFallbackToNonSMT)},this.onHoverCancel=function(){f.unBindEvent();f.onFallbackToNonSMT()},this.disableMMST=function(){sj_evt.fire(i.HoverMMSTHideEvt);f.resultThumbnailLoaded=!1;f.mmstLoaded=!1;a(f.mmstContainer,!1)},this.componentCheck=function(n,t){var r,i;if((f.mmstContainer=h(ut,t),!f.mmstContainer)||(f.thumbnailCapacity=n.mmstcnt,!f.thumbnailCapacity)||(f.pidStr=n.pid,f.pidStr||(f.pidStr=""),f.borderwidth=n.mmstbw,f.enableOuterBoarder=n.mmstob,!f.borderwidth))return!1;for(r=p(ft,f.mmstContainer),f.mmstImages=[],i=0;i<r.length;i++)f.mmstImages.push(r[i]);return!f.mmstImages||f.mmstImages.length<f.thumbnailCapacity?!1:!0},this.setMMSTThumbs=function(n,t,i,r,u,e,o,h,a,v,y,p){var w;e>r&&(e=r);var d=o&&o.match("id=([^&]+)")||[],g=d.length>1?d[1]:"",nt=r+(y?1:-1),b=parseInt(((n-nt*u)/r).toFixed(0)),k=parseInt((b*9/16).toFixed(0));c(t,n);l(t,k);w=s.NewThumbnailUrl(g,a,b,k,h,s.CroppingType.SmartRatio,s.ResizeMode.Ratio);w=f.getThumbUrlOrMockThumbUrl(w,e);f.setMMSTImageElements(n,i,u,b,k,e,r,w,v,y,p)},this.getThumbUrlOrMockThumbUrl=function(n,t){if(n&&n.length>1&&typeof getMockMMSTSrc!="undefined"&&getMockMMSTSrc){var i=getMockMMSTSrc(t);if(i!=null)return i}return n},this.setMMSTImageElements=function(n,t,i,r,u,e,o,s,a,v,y){for(var w,tt,g,b,rt,ut=0,p=0;p<o;p++)w=t[p],k(w,"id",(p+1).toString()),tt=!1,g=0,g=p===0?r+(v?2*i:i):p===o-1?n-ut:r+i,p>=e&&(d(w,"na"),tt=!0),c(w,g),ut+=g,b=h(et,w),b&&(p==0&&(b.onload=f.onThumbnailLoaded),b.src=s,b.style.marginLeft=-1*p*r+"px",b.style.cssFloat="left",b.alt=y),l(w,u),tt?rt="multimedia.videoRichHover.mmstNotAvailable":(rt="multimedia.videoRichHover.mmstAvailable",sj_be(w,"mouseenter",f.onMMSTMouseOver,!1),sj_be(w,"focus",f.onMMSTMouseOver,!1)),it&&nt(w,rt)},this.onThumbnailLoaded=function(){f.mmstLoaded=!0;f.onShow();sj_evt.fire(i.HoverMMSTLoadEvt,f.instMeta)},this.onResultThumbnailLoaded=function(){f.resultThumbnailLoaded=!0;f.onShow()},this.onShow=function(){f.resultThumbnailLoaded&&f.mmstLoaded&&(a(f.mmstContainer,!0),sj_evt.fire(i.HoverMMSTShowEvt))},this.onMMSTMouseOver=function(n){var r,t;if(n&&(w(n),r=sj_et(n),r)){if(n.stopPropagation(),n.preventDefault(),t=b(r,"id"),f.lastSeekIndex==t)return;f.lastSeekIndex=t;!isNaN(parseInt(t))&&f.instMeta&&sj_evt.fire(i.MMSTSeekEvt,f.instMeta,t)}},this.onFallbackToNonSMT=function(){f.disableMMST()},this.mmstLoaded=!1,this.resultThumbnailLoaded=!1,n&&t&&t.thumbCnt!==0&&t.mmstUrl&&t.thumbCnt&&!r.fdmmst)&&this.componentCheck(r,n)&&(this.instMeta=u,this.bindEvent(),this.setMMSTThumbs(t.containerWidth,this.mmstContainer,this.mmstImages,this.thumbnailCapacity,this.borderwidth,t.thumbCnt,t.mmstUrl,this.pidStr,t.isAdultThumb,u,this.enableOuterBoarder,t.videoTitle),this.clientHeight=g(this.mmstContainer))}return n}()})(MultiMotionStaticThumbnail||(MultiMotionStaticThumbnail={}))