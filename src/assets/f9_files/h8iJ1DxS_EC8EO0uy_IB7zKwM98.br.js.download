var __awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},SydFSCHelper;(function(n){function ar(i){var ln=this,ut,ft,ot,ht,ct,lt,at,vt,pt,wt,bt,kt,dt,ri,ui,fi,ei,oi,si,hi,ci,li,ai,bi,ki,di,gi,tr,ir,rr,ur,fr,er,or,hr,cr,ar,vr,pr,br,kr,dr,fu,eu,su,cu,lu,au,vu,yu,pu,wu,bu,du,gu,nf,tf,rf,uf,ff,ef,sf,hf,cf,lf,af,vf,yf,pf,wf,bf,kf,df,gf,ne,te,ie,re,ue,fe,ee,oe,se,he,ce,le,ae,ve,ye,pe,we,be,ke,de,ge,no,to,io,ro,uo,fo,eo,oo,so,ho,co,lo,ao,vo,yo,po,wo,bo,ko,go,ns,ts,is,rs,us,fs,es,os,ss,hs,cs,ls,as,vs,ys,ps,ws,bs,ks,ds,gs,nh,th,ih,rh,uh,fh,eh,oh,sh,hh,ch,lh,ah,vh,yh,ph,wh,bh,kh,dh,gh,nc,tc,ic,rc,uc,fc,ec,oc,sc,hc,cc,lc,ac,vc,yc,pc,wc,bc,kc,dc,gc,nl,tl,il,rl,ul,fl,el,ol,sl,hl,cl,ll,al,vl,yl,pl,wl,bl,kl,dl,gl,na,ta,ia,ra,ua,fa,ea,oa,sa,ha,ca,la,aa,va,ya,pa,wa,ba,ka,da,ga,nv,tv,iv,rv,uv,fv,ev,ov,sv,hv,cv,lv,av,vv,yv,pv,wv,bv,kv,dv,gv,ny,ty,iy,ry,uy,fy,ey,oy,sy,hy,cy,ly,ay,vy,yy,py,wy,by,ky,dy,on,r,rp,y,e,s,p,w,f,b,up,fp,ep,op,o,sp,d,hp,cp,k,g,lp,h,tt,sn,hn,l,rt,ap,vp;i===void 0&&(i=null);n.isConfigSet=!0;var yp=t((ut=_w._sydConvConfig)===null||ut===void 0?void 0:ut.country,!1),pp=t((ft=_w._sydConvConfig)===null||ft===void 0?void 0:ft.countryConfidence,!1),wp=t((ot=_w._sydConvConfig)===null||ot===void 0?void 0:ot.state,!1),bp=t((ht=_w._sydConvConfig)===null||ht===void 0?void 0:ht.city,!1),kp=t((ct=_w._sydConvConfig)===null||ct===void 0?void 0:ct.cityConfidence,!1),dp=t((lt=_w._sydConvConfig)===null||lt===void 0?void 0:lt.zip,!1),gp=t((at=_w._sydConvConfig)===null||at===void 0?void 0:at.timezoneoffset,!1),an=t((vt=_w._sydConvConfig)===null||vt===void 0?void 0:vt.enableTimezoneOffsetFromJS,!1),nw=t((pt=_w._sydConvConfig)===null||pt===void 0?void 0:pt.dma,!1),tw=t((wt=_w._sydConvConfig)===null||wt===void 0?void 0:wt.lat,!1),iw=t((bt=_w._sydConvConfig)===null||bt===void 0?void 0:bt.long,!1),vn=t((kt=_w._sydConvConfig)===null||kt===void 0?void 0:kt.userIpAddress,""),yn=t((dt=_w._sydConvConfig)===null||dt===void 0?void 0:dt.overrideSydOptions,!1),rw=t((ri=_w._sydConvConfig)===null||ri===void 0?void 0:ri.sydOptionSets,!1),uw=t((ui=_w._sydConvConfig)===null||ui===void 0?void 0:ui.voiceSrOptions,""),fw=t((fi=_w._sydConvConfig)===null||fi===void 0?void 0:fi.sydUrlPart,!1),gy=t((ei=_w._sydConvConfig)===null||ei===void 0?void 0:ei.isSydCorpnet,!1),pn=t((oi=_w._sydConvConfig)===null||oi===void 0?void 0:oi.enableSydOverlay,!1),wn=t((si=_w._sydConvConfig)===null||si===void 0?void 0:si.enableEdgeMobileNativeTTS,!1),bn=t((hi=_w._sydConvConfig)===null||hi===void 0?void 0:hi.isVisualParityRun,!1),kn=t((ci=_w._sydConvConfig)===null||ci===void 0?void 0:ci.isMSAAuthenticated,!1),dn=t((li=_w._sydConvConfig)===null||li===void 0?void 0:li.userMailId,""),gn=t((ai=_w._sydConvConfig)===null||ai===void 0?void 0:ai.username,""),ew=t((bi=_w._sydConvConfig)===null||bi===void 0?void 0:bi.sydBaseUrl,!1),a=t((ki=_w._sydConvConfig)===null||ki===void 0?void 0:ki.isCompliantSydneyEndpointEnabled,!1),np=t((di=_w._sydConvConfig)===null||di===void 0?void 0:di.isBingChatForEnterprise,!1),ntt=t((gi=_w._sydConvConfig)===null||gi===void 0?void 0:gi.isBingChatForSchools,!1),ow=t((tr=_w._sydConvConfig)===null||tr===void 0?void 0:tr.sydIDs,""),sw=t((ir=_w._sydConvConfig)===null||ir===void 0?void 0:ir.traceId,""),hw=t(_w._sydConvTranslation,{}),ttt=t((rr=_w._sydConvConfig)===null||rr===void 0?void 0:rr.enableSydMic,!1),itt=t((ur=_w._sydConvConfig)===null||ur===void 0?void 0:ur.enableSydShare,!1),rtt=t((fr=_w._sydConvConfig)===null||fr===void 0?void 0:fr.enableMessageShareableSignal,!1),utt=t((er=_w._sydConvConfig)===null||er===void 0?void 0:er.addDv3Opt,!1),ftt=t((or=_w._sydConvConfig)===null||or===void 0?void 0:or.addGenContentv3Opt,!1),ett=t((hr=_w._sydConvConfig)===null||hr===void 0?void 0:hr.enable161Feats,!0),ott=t((cr=_w._sydConvConfig)===null||cr===void 0?void 0:cr.enableAnsCardSuffix,!1),stt=t((ar=_w._sydConvConfig)===null||ar===void 0?void 0:ar.removeDSAT,!0),cw=t((vr=_w._sydConvConfig)===null||vr===void 0?void 0:vr.enableErrorTelemetry,!1),lw=t((pr=_w._sydConvConfig)===null||pr===void 0?void 0:pr.enableSpeechExperimentalFeatures,!1),aw=t((br=_w._sydConvConfig)===null||br===void 0?void 0:br.enableSpeechChatDataAfterPhrase,!1),tp=t((kr=_w._sydConvConfig)===null||kr===void 0?void 0:kr.enableSpeechEarconOnInput,!1),vw=t((dr=_w._sydConvConfig)===null||dr===void 0?void 0:dr.enableTTSOnSuggestionAfterVoice,!1),yw=t((fu=_w._sydConvConfig)===null||fu===void 0?void 0:fu.enableSimpleVoiceInput,!1),pw=t((eu=_w._sydConvConfig)===null||eu===void 0?void 0:eu.enableSpeechDictationMode,!1),ww=t((su=_w._sydConvConfig)===null||su===void 0?void 0:su.enableAudioPreloadLimit,!1),bw=t((cu=_w._sydConvConfig)===null||cu===void 0?void 0:cu.enableSpeechFateTTSStop,!1),kw=t((lu=_w._sydConvConfig)===null||lu===void 0?void 0:lu.enableSpeechGetUserMedia,!1),htt=t((au=_w._sydConvConfig)===null||au===void 0?void 0:au.enableSydCLOC,!1),ctt=t((vu=_w._sydConvConfig)===null||vu===void 0?void 0:vu.enableCdxFeats,!1),dw=t((yu=_w._sydConvConfig)===null||yu===void 0?void 0:yu.cdxFeats,""),ltt=t((pu=_w._sydConvConfig)===null||pu===void 0?void 0:pu.disableSecureUpdateConversation,!1),att=t((wu=_w._sydConvConfig)===null||wu===void 0?void 0:wu.disableSecureSendFeedback,!1),vtt=t((bu=_w._sydConvConfig)===null||bu===void 0?void 0:bu.enableFdbkFinalized,!1),ytt=t((du=_w._sydConvConfig)===null||du===void 0?void 0:du.enableFileUpload,!1),ptt=t((gu=_w._sydConvConfig)===null||gu===void 0?void 0:gu.enableSemSerpShare,!1),wtt=t((nf=_w._sydConvConfig)===null||nf===void 0?void 0:nf.enableCreatorShare,!1),btt=t((tf=_w._sydConvConfig)===null||tf===void 0?void 0:tf.enableShareModalDialog,!1),gw=t((rf=_w._sydConvConfig)===null||rf===void 0?void 0:rf.enableSydImageCreate,!1),ktt=t((uf=_w._sydConvConfig)===null||uf===void 0?void 0:uf.enableSecureConnect,!0),nb=t((ff=_w._sydConvConfig)===null||ff===void 0?void 0:ff.enableInstanceAffinity,!0),dtt=t((ef=_w._sydConvConfig)===null||ef===void 0?void 0:ef.enableShortOpt,!1),gtt=t((sf=_w._sydConvConfig)===null||sf===void 0?void 0:sf.enablePuidOvr,!1),tb=t((hf=_w._sydConvConfig)===null||hf===void 0?void 0:hf.enablePerfTrk,!1),nit=t((cf=_w._sydConvConfig)===null||cf===void 0?void 0:cf.enableEmbeddedPerf,!1),ib=t((lf=_w._sydConvConfig)===null||lf===void 0?void 0:lf.enableSinglePerfEventPerMessage,!1),tit=t((af=_w._sydConvConfig)===null||af===void 0?void 0:af.enableE2EPerf,!1),rb=t((vf=_w._sydConvConfig)===null||vf===void 0?void 0:vf.enableUnauthRedir,!1),ub=t((yf=_w._sydConvConfig)===null||yf===void 0?void 0:yf.enableActionBarV2,!1),fb=t((pf=_w._sydConvConfig)===null||pf===void 0?void 0:pf.enableSpeechDictationBridgeMode,!1),eb=t((wf=_w._sydConvConfig)===null||wf===void 0?void 0:wf.enableSpeculativeMode,!1),iit=t((bf=_w._sydConvConfig)===null||bf===void 0?void 0:bf.bypassMicPermissionsQuery,!1),ob=t((kf=_w._sydConvConfig)===null||kf===void 0?void 0:kf.enableSpeechErrorHandling,!1),sb=t((df=_w._sydConvConfig)===null||df===void 0?void 0:df.enableSpeechAriaLabel,!1),hb=t((gf=_w._sydConvConfig)===null||gf===void 0?void 0:gf.enableSpeechReopenMic,!1),cb=t((ne=_w._sydConvConfig)===null||ne===void 0?void 0:ne.enableSpeechTTSLatencyLogging,!1),lb=t((te=_w._sydConvConfig)===null||te===void 0?void 0:te.enableSpeechInputWhileRequestIsPending,!1),ab=t((ie=_w._sydConvConfig)===null||ie===void 0?void 0:ie.enableSpeechIconDarkTheme,!1),rit=t((re=_w._sydConvConfig)===null||re===void 0?void 0:re.enableNewTopicAutoExpand,!1),uit=t((ue=_w._sydConvConfig)===null||ue===void 0?void 0:ue.enableMaxTurnsPerConversation,!1),fit=t((fe=_w._sydConvConfig)===null||fe===void 0?void 0:fe.enableAmberTurnPerConversation,!1),eit=t((ee=_w._sydConvConfig)===null||ee===void 0?void 0:ee.maxMessageLength,wi),v=t((oe=_w._sydConvConfig)===null||oe===void 0?void 0:oe.isAccountLinkedWithActiveAAD,!1),oit=t((se=_w._sydConvConfig)===null||se===void 0?void 0:se.enableThreadsAADMSASwitch,!1),vb=t((he=_w._sydConvConfig)===null||he===void 0?void 0:he.enableTelemetryPrivacy,!1),sit=t((ce=_w._sydConvConfig)===null||ce===void 0?void 0:ce.enableSydSafeSearch,!1),hit=t((le=_w._sydConvConfig)===null||le===void 0?void 0:le.enableFeedbackClientSideScreenshot,!1),cit=t((ae=_w._sydConvConfig)===null||ae===void 0?void 0:ae.syntheticStreamSpeed,nr),lit=t((ve=_w._sydConvConfig)===null||ve===void 0?void 0:ve.disableShareWithNoMargin,!1),ait=t((ye=_w._sydConvConfig)===null||ye===void 0?void 0:ye.enableMobileShareAnchorBottom,!1),vit=t((pe=_w._sydConvConfig)===null||pe===void 0?void 0:pe.enableCreativeLandingPage,!1),yit=t((we=_w._sydConvConfig)===null||we===void 0?void 0:we.enableServerLogMerging,!1),yb=t((be=_w._sydConvConfig)===null||be===void 0?void 0:be.enableOneClickCopy,!1),pb=t((ke=_w._sydConvConfig)===null||ke===void 0?void 0:ke.enableReorderCopiedTextReferences,!1),wb=t((de=_w._sydConvConfig)===null||de===void 0?void 0:de.enableCodeCopy,!1),bb=t((ge=_w._sydConvConfig)===null||ge===void 0?void 0:ge.enableCodeBar,!1),kb=t((no=_w._sydConvConfig)===null||no===void 0?void 0:no.enableUserMessageCopy,!1),db=t((to=_w._sydConvConfig)===null||to===void 0?void 0:to.enableRichTextPaste,!1),gb=t((io=_w._sydConvConfig)===null||io===void 0?void 0:io.enablePasteMarkdownTable,!1),nk=t((ro=_w._sydConvConfig)===null||ro===void 0?void 0:ro.enablePasteMath,!1),pit=t((uo=_w._sydConvConfig)===null||uo===void 0?void 0:uo.enableSkipContentOriginCheck,!1),wit=t((fo=_w._sydConvConfig)===null||fo===void 0?void 0:fo.enableMobileOneClickShare,!1),bit=t((eo=_w._sydConvConfig)===null||eo===void 0?void 0:eo.enableMobileOneClickShareV2,!1),kit=t((oo=_w._sydConvConfig)===null||oo===void 0?void 0:oo.enableFeedbackInstrumentation,!1),dit=t((so=_w._sydConvConfig)===null||so===void 0?void 0:so.enableSuggEndFix,!1),git=t((ho=_w._sydConvConfig)===null||ho===void 0?void 0:ho.enableAutoRecoverFromInvalidSession,!1),nrt=t((co=_w._sydConvConfig)===null||co===void 0?void 0:co.enableAutoRecoverFromInvalidSessionForFirstTurn,!1),trt=t((lo=_w._sydConvConfig)===null||lo===void 0?void 0:lo.enableActionBarIMEFix,!1),irt=t((ao=_w._sydConvConfig)===null||ao===void 0?void 0:ao.enableGhostTrailingSpaceByLanguage,!1),tk=t((vo=_w._sydConvConfig)===null||vo===void 0?void 0:vo.enableInlineFeedback,!1),ik=t((yo=_w._sydConvConfig)===null||yo===void 0?void 0:yo.enableInlineFeedbackV2,!1),rk=t((po=_w._sydConvConfig)===null||po===void 0?void 0:po.enableInlineFeedbackV21,!1),uk=t((wo=_w._sydConvConfig)===null||wo===void 0?void 0:wo.enableSerpFeedback,!1),fk=t((bo=_w._sydConvConfig)===null||bo===void 0?void 0:bo.enableMessageExport,!1),ek=t((ko=_w._sydConvConfig)===null||ko===void 0?void 0:ko.enableMessageExportWithPlainText,!1),ok=t((go=_w._sydConvConfig)===null||go===void 0?void 0:go.enableMessageExportOnlineWord,!1),sk=t((ns=_w._sydConvConfig)===null||ns===void 0?void 0:ns.enableMessageExportOnlineExcel,!1),hk=t((ts=_w._sydConvConfig)===null||ts===void 0?void 0:ts.enableMessageExportLocalExcel,!1),ck=t((is=_w._sydConvConfig)===null||is===void 0?void 0:is.enableTableBarFlatActions,!1),lk=t((rs=_w._sydConvConfig)===null||rs===void 0?void 0:rs.enableThreadExportOnlineWord,!1),ak=t((us=_w._sydConvConfig)===null||us===void 0?void 0:us.enableMessageExportV2,!1),vk=t((fs=_w._sydConvConfig)===null||fs===void 0?void 0:fs.enableBotMessageActionsBar,!1),yk=t((es=_w._sydConvConfig)===null||es===void 0?void 0:es.enableShorterToastDuration,!1),pk=t((os=_w._sydConvConfig)===null||os===void 0?void 0:os.enableDirectlyOpenExportOnlineLink,!1),wk=t((ss=_w._sydConvConfig)===null||ss===void 0?void 0:ss.enableLoginHintForSSO,!1),bk=t((hs=_w._sydConvConfig)===null||hs===void 0?void 0:hs.enableLimitToMsaOnlineExport,!1),ip=t((cs=_w._sydConvConfig)===null||cs===void 0?void 0:cs.enableLimitToAadOnlineExport,!1),kk=t((ls=_w._sydConvConfig)===null||ls===void 0?void 0:ls.enableMSAuth1stPartyApp,!1),dk=t((as=_w._sydConvConfig)===null||as===void 0?void 0:as.enableAdsRedirectLinkForTextMessage,!1),gk=t((vs=_w._sydConvConfig)===null||vs===void 0?void 0:vs.enableCopyHtml,!1),nd=t((ys=_w._sydConvConfig)===null||ys===void 0?void 0:ys.enableCopyHtmlWithHighlightedCode,!1),td=t((ps=_w._sydConvConfig)===null||ps===void 0?void 0:ps.enableExportPdfWithAnswerScreenshot,!1),id=t((ws=_w._sydConvConfig)===null||ws===void 0?void 0:ws.enableExportDocxWithAnswerScreenshot,!1),rd=t((bs=_w._sydConvConfig)===null||bs===void 0?void 0:bs.enableLibrariesSplitImport,!1),ud=t((ks=_w._sydConvConfig)===null||ks===void 0?void 0:ks.enableFlatActionBar,!1),fd=t((ds=_w._sydConvConfig)===null||ds===void 0?void 0:ds.codexMUIDUser,!1),ed=t((gs=_w._sydConvConfig)===null||gs===void 0?void 0:gs.enableFixCodeXAsBug,!1),od=t((nh=_w._sydConvConfig)===null||nh===void 0?void 0:nh.enableChatIconClickable,!1),sd=t((th=_w._sydConvConfig)===null||th===void 0?void 0:th.enableChatQueryClickable,!1),hd=t((ih=_w._sydConvConfig)===null||ih===void 0?void 0:ih.enableChatQueryClickableV2,!1),cd=t((rh=_w._sydConvConfig)===null||rh===void 0?void 0:rh.enableChatQueryClickableV3,!1),ld=t((uh=_w._sydConvConfig)===null||uh===void 0?void 0:uh.enableChatQueryClickableV4,!1),ad=t((fh=_w._sydConvConfig)===null||fh===void 0?void 0:fh.enableShareQuestionWithResponse,!1),vd=t((eh=_w._sydConvConfig)===null||eh===void 0?void 0:eh.enableShareQuestionTitlePrefix,!1),yd=t((oh=_w._sydConvConfig)===null||oh===void 0?void 0:oh.enableShareInlineAdsIframe,!1),pd=t((sh=_w._sydConvConfig)===null||sh===void 0?void 0:sh.enableShowShareButtonWithSecurityCheck,!1),wd=t((hh=_w._sydConvConfig)===null||hh===void 0?void 0:hh.enableScreenshotIgnoreOnCibSerp,!1),bd=t((ch=_w._sydConvConfig)===null||ch===void 0?void 0:ch.enableStandaloneUtility,!1);n.enableCreatorSendQueryWhenShowConvQuery=t((lh=_w._sydConvConfig)===null||lh===void 0?void 0:lh.enableCreatorSendQueryWhenShowConvQuery,!0);n.padding2TMobile=t((ah=_w._sydConvConfig)===null||ah===void 0?void 0:ah.padding2TMobile,!0);lr=t((vh=_w._sydConvConfig)===null||vh===void 0?void 0:vh.enableSetConvQueryFlag,!1);it=np?sr:yt;var het=t((yh=_w._sydConvConfig)===null||yh===void 0?void 0:yh.enableCodexWin,!1),cet=t((ph=_w._sydConvConfig)===null||ph===void 0?void 0:ph.enableCodexWinBotMessage,!1),aet=t((wh=_w._sydConvConfig)===null||wh===void 0?void 0:wh.codexWinCurrentTurn,0),rrt=t((bh=_w._sydConvConfig)===null||bh===void 0?void 0:bh.enableGetChats,!1),kd=t((kh=_w._sydConvConfig)===null||kh===void 0?void 0:kh.enableNewTables,!1),urt=t((dh=_w._sydConvConfig)===null||dh===void 0?void 0:dh.codexTableVersion,1),dd=t((gh=_w._sydConvConfig)===null||gh===void 0?void 0:gh.enableBufferMessage,!1),gd=t((nc=_w._sydConvConfig)===null||nc===void 0?void 0:nc.enableBufferDots,!1),ng=t((tc=_w._sydConvConfig)===null||tc===void 0?void 0:tc.enableOptimizedStreaming,!1),frt=t((ic=_w._sydConvConfig)===null||ic===void 0?void 0:ic.enableExportDocxWithFormat,!1),ert=t((rc=_w._sydConvConfig)===null||rc===void 0?void 0:rc.enableDisposeOrphanedHosts,!1),ort=t((uc=_w._sydConvConfig)===null||uc===void 0?void 0:uc.enablePreserveTextFormat,!1),srt=t((fc=_w._sydConvConfig)===null||fc===void 0?void 0:fc.enableHoverCardOnLearnMorePills,!1),hrt=t((ec=_w._sydConvConfig)===null||ec===void 0?void 0:ec.enableWowCDSSurvey,!1),tg=t((oc=_w._sydConvConfig)===null||oc===void 0?void 0:oc.enableSydBeacon,!1),crt=t((sc=_w._sydConvConfig)===null||sc===void 0?void 0:sc.enableShareOnHostMessage,!1),lrt=t((hc=_w._sydConvConfig)===null||hc===void 0?void 0:hc.disablePassBotGreetingInContext,!1),ig=t((cc=_w._sydConvConfig)===null||cc===void 0?void 0:cc.enableThreadContextMenu,!1),art=t((lc=_w._sydConvConfig)===null||lc===void 0?void 0:lc.enableCloudflareCaptcha,!1),vrt=t((ac=_w._sydConvConfig)===null||ac===void 0?void 0:ac.enableInvisibleCaptchaChallenge,!1),yrt=t((vc=_w._sydConvConfig)===null||vc===void 0?void 0:vc.enableResizeObserverWithAnimationFrame,!1),prt=t((yc=_w._sydConvConfig)===null||yc===void 0?void 0:yc.enableKnowledgeCardImage,!1),rg=t((pc=_w._sydConvConfig)===null||pc===void 0?void 0:pc.enableStartPromotion,!1),wrt=t((wc=_w._sydConvConfig)===null||wc===void 0?void 0:wc.enableCopyButtonInstrumented,!1),brt=t((bc=_w._sydConvConfig)===null||bc===void 0?void 0:bc.enableThreadSync,!1),krt=t((kc=_w._sydConvConfig)===null||kc===void 0?void 0:kc.enableMobileKnowledgeCardOverlay,!1),drt=t((dc=_w._sydConvConfig)===null||dc===void 0?void 0:dc.enableCibOverlayForKnowledgeCard,!1),grt=t((gc=_w._sydConvConfig)===null||gc===void 0?void 0:gc.enableFlux3P,!1),nut=t((nl=_w._sydConvConfig)===null||nl===void 0?void 0:nl.enablePluginsByTone,!1),tut=t((tl=_w._sydConvConfig)===null||tl===void 0?void 0:tl.enableCodexTesthooks,!1),iut=t((il=_w._sydConvConfig)===null||il===void 0?void 0:il.enableTestTurnLimit,!1),rut=t((rl=_w._sydConvConfig)===null||rl===void 0?void 0:rl.enableTestDailyLimit,!1),vet=t((ul=_w._sydConvConfig)===null||ul===void 0?void 0:ul.flux3PPluginList,""),yet=t((fl=_w._sydConvConfig)===null||fl===void 0?void 0:fl.enableTestCodexTurnLimit,!1),pet=t((el=_w._sydConvConfig)===null||el===void 0?void 0:el.enableTestCodexDailylimit,!1),ug=t((ol=_w._sydConvConfig)===null||ol===void 0?void 0:ol.disableWelcomeScreen,!1),uut=t((sl=_w._sydConvConfig)===null||sl===void 0?void 0:sl.enableWelcomeScreenV2,!1),fut=t((hl=_w._sydConvConfig)===null||hl===void 0?void 0:hl.enableChatFRE,!1),fg=t((cl=_w._sydConvConfig)===null||cl===void 0?void 0:cl.enableWebPageContextMessages,!1),eut=t((ll=_w._sydConvConfig)===null||ll===void 0?void 0:ll.enableCodexPluginb,!1),out=t((al=_w._sydConvConfig)===null||al===void 0?void 0:al.enableNewAutoSuggestEndPoint,!1),sut=t((vl=_w._sydConvConfig)===null||vl===void 0?void 0:vl.enable2TQueryConfigsOnSerpLoad,!1),eg=t((yl=_w._sydConvConfig)===null||yl===void 0?void 0:yl.enableSydStaticAdsLink,!1),hut=t((pl=_w._sydConvConfig)===null||pl===void 0?void 0:pl.isMobileHost,!1),cut=t((wl=_w._sydConvConfig)===null||wl===void 0?void 0:wl.enableRenderCardRequestIMSearchParams,!1),og=t((bl=_w._sydConvConfig)===null||bl===void 0?void 0:bl.enableMessagePrivacy,!1),sg=t((kl=_w._sydConvConfig)===null||kl===void 0?void 0:kl.enableCloseShareOnClickOutside,!1),lut=t((dl=_w._sydConvConfig)===null||dl===void 0?void 0:dl.enableTypingIndicatorForSerpSlotCreator,!0),aut=t((gl=_w._sydConvConfig)===null||gl===void 0?void 0:gl.enableOnProcessingStartEvent,!1),vut=t((na=_w._sydConvConfig)===null||na===void 0?void 0:na.enableOnProcessingCompleteEvent,!1),hg=t((ta=_w._sydConvConfig)===null||ta===void 0?void 0:ta.enableUpdateProfile,!1),yut=t((ia=_w._sydConvConfig)===null||ia===void 0?void 0:ia.enableTypewriter,!1),put=t((ra=_w._sydConvConfig)===null||ra===void 0?void 0:ra.enableConfirmPromptSingleDeleteThread,!1),wut=!t((ua=_w._sydConvConfig)===null||ua===void 0?void 0:ua.disableTooltip,!1),but=t((fa=_w._sydConvConfig)===null||fa===void 0?void 0:fa.enableNewlineTooltip,!1),kut=t((ea=_w._sydConvConfig)===null||ea===void 0?void 0:ea.enableDeferredImageCreatorCard,!1),dut=t((oa=_w._sydConvConfig)===null||oa===void 0?void 0:oa.enableSaharaStream,!1),gut=t((sa=_w._sydConvConfig)===null||sa===void 0?void 0:sa.enableFaviconsV2,!1),nft=t((ha=_w._sydConvConfig)===null||ha===void 0?void 0:ha.enableFaviconsAutoRefresh,!1),tft=t((ca=_w._sydConvConfig)===null||ca===void 0?void 0:ca.enableUserIpAddress,!1),ift=t((la=_w._sydConvConfig)===null||la===void 0?void 0:la.enableSkipContentOriginValidation,!1),rft=t((aa=_w._sydConvConfig)===null||aa===void 0?void 0:aa.enableLooseMessageDensity,!1),cg=t((va=_w._sydConvConfig)===null||va===void 0?void 0:va.enableSuggestionItemEnterAnimation,!1),lg=t((ya=_w._sydConvConfig)===null||ya===void 0?void 0:ya.enableKatexScroll,!1),uft=t((pa=_w._sydConvConfig)===null||pa===void 0?void 0:pa.enableLinkPreviewCarousel,!1),fft=t((wa=_w._sydConvConfig)===null||wa===void 0?void 0:wa.useFakeDataForLinkPreviewCarousel,!1),ag=t((ba=_w._sydConvConfig)===null||ba===void 0?void 0:ba.enablePageHeaderOverlapClamping,!1),eft=t((ka=_w._sydConvConfig)===null||ka===void 0?void 0:ka.enableThreadShowPlugins,!1),oft=t((da=_w._sydConvConfig)===null||da===void 0?void 0:da.enableThreadsTestData,!1),sft=t((ga=_w._sydConvConfig)===null||ga===void 0?void 0:ga.enableUpdateUserMessageId,!1),hft=t((nv=_w._sydConvConfig)===null||nv===void 0?void 0:nv.enableUserMessageIdConsistency,!1),cft=t((tv=_w._sydConvConfig)===null||tv===void 0?void 0:tv.enablePluginPanelFre,!1),lft=t((iv=_w._sydConvConfig)===null||iv===void 0?void 0:iv.enablePersistentInputText,!1),vg=t((rv=_w._sydConvConfig)===null||rv===void 0?void 0:rv.enableEmptyThreadTime,!1),aft=t((uv=_w._sydConvConfig)===null||uv===void 0?void 0:uv.enableRenderIframeCardRequest,!1),yg=t((fv=_w._sydConvConfig)===null||fv===void 0?void 0:fv.enableBackendExportService,!1),vft=t((ev=_w._sydConvConfig)===null||ev===void 0?void 0:ev.enableFastChatLoadAnimation,!1),yft=t((ov=_w._sydConvConfig)===null||ov===void 0?void 0:ov.enableShareInThreadsHeader,!0),wet=t((sv=_w._sydConvConfig)===null||sv===void 0?void 0:sv.enableExternalSpeechIconAnimation,!1),pft=t((hv=_w._sydConvConfig)===null||hv===void 0?void 0:hv.enableNewConversationActivate,!1),pg=t((cv=_w._sydConvConfig)===null||cv===void 0?void 0:cv.enableInPrivateUserMode,!1),wft=t((lv=_w._sydConvConfig)===null||lv===void 0?void 0:lv.enableMobileFirstClickShare,!1),wg=t((av=_w._sydConvConfig)===null||av===void 0?void 0:av.enableSydneyGetMessagesHub,!1),bft=t((vv=_w._sydConvConfig)===null||vv===void 0?void 0:vv.enableInlinePersonalizationConsent,!1),kft=t((yv=_w._sydConvConfig)===null||yv===void 0?void 0:yv.personalizationInlineConsentTurn,pi),dft=t((pv=_w._sydConvConfig)===null||pv===void 0?void 0:pv.enableEduStarterMessage,!1),gft=t((wv=_w._sydConvConfig)===null||wv===void 0?void 0:wv.enableEduStarterMessageAnimation,!1),net=t((bv=_w._sydConvConfig)===null||bv===void 0?void 0:bv.enablePaywallTelemetryFix,!1),tet=t((kv=_w._sydConvConfig)===null||kv===void 0?void 0:kv.enableNoBingSearchResponseBackground,!1),iet=t((dv=_w._sydConvConfig)===null||dv===void 0?void 0:dv.enableNoSearchPluginMetaMessage,!1),bg=t((gv=_w._sydConvConfig)===null||gv===void 0?void 0:gv.enableOpenEdgeNotification,!1),kg=t((ny=_w._sydConvConfig)===null||ny===void 0?void 0:ny.enableSuppressSigninMessage,!1),dg=t((ty=_w._sydConvConfig)===null||ty===void 0?void 0:ty.enableExportPdfWithRichFormat,!1),gg=t((iy=_w._sydConvConfig)===null||iy===void 0?void 0:iy.enableAttributionImages,!1),nn=t((ry=_w._sydConvConfig)===null||ry===void 0?void 0:ry.enableAttributionImagesWhenAdsPresent,!1),tn=t((uy=_w._sydConvConfig)===null||uy===void 0?void 0:uy.enableAttributionImagesCarousel,!1),rn=t((fy=_w._sydConvConfig)===null||fy===void 0?void 0:fy.enableAttributionImagesClickthrough,!1),ret=t((ey=_w._sydConvConfig)===null||ey===void 0?void 0:ey.enableThreadsConsent,!1),un=t((oy=_w._sydConvConfig)===null||oy===void 0?void 0:oy.enableDeleteSingleConversationMemory,!1),uet=t((sy=_w._sydConvConfig)===null||sy===void 0?void 0:sy.enableThreadsTopRightButton,!1),fet=t((hy=_w._sydConvConfig)===null||hy===void 0?void 0:hy.enablePluginsTopRightButton,!1),fn=t((cy=_w._sydConvConfig)===null||cy===void 0?void 0:cy.enableOneDs,!1),en=t((ly=_w._sydConvConfig)===null||ly===void 0?void 0:ly.enableStableAutosuggestion,!1),eet=t((ay=_w._sydConvConfig)===null||ay===void 0?void 0:ay.enableSydneyFSCTranslationSrc,!1),oet=t(_w._sydConvConfig.enableBceMuidConsent,!1);if(pg&&(CIB.config.features.enableInPrivateUserMode=pg),sj_evt.bind("showSydFSC",gt),hrt&&(CIB.config.features.enableWowCDSSurvey=!0),rft&&(CIB.config.messaging.messageDensity="loose"),cg&&(CIB.config.features.enableSuggestionItemEnterAnimation=cg),lg&&(CIB.config.features.enableKatexScroll=lg),on=_ge("cib-design-tokens"),on||CIB.activateDesignTokens(),r={},yp&&(r.country=yp),wp&&(r.state=wp),bp&&(r.city=bp),dp&&(r.zipcode=dp),an||a?r.timezoneoffset=-((new Date).getTimezoneOffset()/60):gp&&(r.timezoneoffset=parseFloat(gp)),nw&&(r.dma=nw),tw&&(r.latitude=parseFloat(tw)),iw&&(r.longitude=parseFloat(iw)),pp&&(r.countryConfidence=pp),kp&&(r.cityConfidence=kp),a?(rp=Intl.DateTimeFormat().resolvedOptions().timeZone,rp&&(r.timezone=rp),CIB.config.sydney.message.locationInfo=r):i&&typeof i.locations!="undefined"&&typeof i.locations.locationsList!="undefined"?(y=i.locations.locationsList,y&&y.length>0&&(CIB.config.sydney.message.locationHints=y)):i&&typeof i.cookLoc!="undefined"?(e=[],i.cookLoc.userLoc&&(s=et(i.cookLoc.userLoc,!1),s.RegionType=1,s.SourceType=2,s.FDConfidence=1,e.push(s)),i.cookLoc.deviceLoc&&(p=et(i.cookLoc.deviceLoc,!1),p.RegionType=2,p.SourceType=5,e.push(p)),htt&&i.cookLoc.coarseLoc&&(w=et(i.cookLoc.coarseLoc,!1),w.RegionType=2,w.SourceType=11,e.push(w)),f=r,f.Center={Latitude:f.latitude,Longitude:f.longitude},delete f.latitude,delete f.longitude,f.RegionType=2,f.SourceType=1,e.push(f),CIB.config.sydney.message.locationHints=e):CIB.config.sydney.message.locationinfo=r,tft&&(CIB.config.sydney.message.userIpAddress=vn),CIB.config.sydney.message.timestamp=ku(),eet)sj_evt.bind("sydConvTranslationLoaded",ii,!0);else for(b=0,up=Object.keys(hw);b<up.length;b++)fp=up[b],CIB.config.strings[fp]=hw[fp];if(rrt&&(CIB.config.features.enableGetChats=!0),brt&&(CIB.config.features.enableThreadSync=!0),oft&&(CIB.config.features.enableThreadsTestData=!0),yut&&(CIB.config.features.enableTypewriterEffectForThreadName=!0),dut&&(CIB.config.features.enableSaharaSyntheticStreaming=!0),gut&&(CIB.config.features.enableFaviconV2=!0),nft&&(CIB.config.features.enableFaviconAutoRefresh=!0),ytt&&(CIB.config.features.enableFileUpload=!0),grt&&(CIB.config.features.enableFlux3P=!0,typeof CIB.config.plugin=="undefined"&&(CIB.config.plugin={})),bft&&(CIB.config.features.enableInlinePersonalizationConsent=!0,CIB.config.messaging.personalizationInlineConsentTurn=kft),nut&&(CIB.config.features.enablePluginsByTone=!0),put&&(CIB.config.features.enableConfirmPromptForDeleteSingleThread=!0),kut&&(CIB.config.features.enableDeferredImageCreatorCard=!0),eut&&(CIB.config.features.enableOpenTableBookBlueLink=!0),cut&&(CIB.config.features.enableRenderCardRequestIMSearchParams=!0),ift&&(CIB.config.features.enableSkipContentOriginValidation=!0),uft&&(CIB.config.features.enableLinkPreviewCarousel=!0),fft&&(CIB.config.features.useFakeDataForLinkPreviewCarousel=!0),eft&&(CIB.config.features.enableThreadShowPlugins=!0),sft&&(CIB.config.features.enableUpdateUserMessageId=!0),hft&&(CIB.config.features.enableUserMessageIdConsistency=!0),cft&&(CIB.config.features.enablePluginPanelFre=!0),aft&&(CIB.config.features.enableRenderIframeCardRequest=!0),dft&&(CIB.config.features.enableFreEducationalStarter=!0),gft&&(CIB.config.features.enableFreEducationalStarterAnimation=!0),tet&&(CIB.config.features.enableNoBingSearchResponseBackground=!0),iet&&(CIB.config.features.enableNoSearchPluginMetaMessage=!0),ep=new URLSearchParams(_w.location.search),op=ep.get(yi.toLowerCase()),(uw!=""||gy&&op)&&(o=CIB.config.speech.srOptions?CIB.config.speech.srOptions:[],o=c(o,uw),gy&&(o=c(o,op)),CIB.config.speech.srOptions=o),tp&&(CIB.config.speech.srOptions||(CIB.config.speech.srOptions=[]),CIB.config.speech.srOptions.push("earcon")),stt&&(sp=CIB.config.sydney.request.optionsSets.indexOf("enable_debug_commands"),sp>=0&&CIB.config.sydney.request.optionsSets.splice(sp,1)),utt&&u(CIB.config.sydney.request.optionsSets,"dv3sugg"),ftt&&u(CIB.config.sydney.request.optionsSets,"gencontentv3"),dtt&&u(CIB.config.sydney.request.optionsSets,"prodshortv4"),yn&&rw!=""&&(CIB.config.sydney.request.optionsSets=c([],rw)),ctt){if(dw)for(k=dw.split(","),d=0,hp=k;d<hp.length;d++)h=hp[d],CIB.config.features[h]=!0;if(cp=ep.get(vi.toLowerCase()),gy&&cp)for(k=cp.split(","),g=0,lp=k;g<lp.length;g++)h=lp[g],h.indexOf(":")>=0&&(tt=h.split(":"),tt.length==2&&(CIB.config.features[tt[0]]=tt[1]))}if(ow&&(sn=ow.split(","),CIB.config.sydney.request.sliceIds=sn),CIB.config.bing.isVisualParityRun=bn,CIB.config.bing.isMSAAuthenticated=kn,CIB.config.bing.userMailId=dn,CIB.config.bing.username=gn,ew&&(CIB.config.sydney.baseUrl=ew),fw!=""&&(CIB.config.sydney.pathBase=fw),lw&&(CIB.config.features.enableSpeechExperimental=lw),aw&&(CIB.config.features.enableSpeechChatDataAfterPhrase=aw),tp&&(CIB.config.features.enableSpeechEarconOnInput=tp),vw&&(CIB.config.features.enableTTSOnSuggestionAfterVoice=vw),yw&&(CIB.config.features.enableSimpleVoiceInput=yw),pw&&(CIB.config.features.enableSpeechDictationMode=pw),ww&&(CIB.config.features.enableAudioPreloadLimit=ww),bw&&(CIB.config.features.enableSpeechFateTTSStop=bw),kw&&(CIB.config.features.enableSpeechGetUserMedia=kw),ob&&(CIB.config.features.enableSpeechErrorHandling=ob),cb&&(CIB.config.features.enableSpeechTTSLatencyLogging=cb),lb&&(CIB.config.features.enableSpeechInputWhileRequestIsPending=lb),ab&&(CIB.config.features.enableSpeechIconDarkTheme=ab),sb&&(CIB.config.features.enableSpeechAriaLabel=sb),hb&&(CIB.config.features.enableSpeechReopenMic=hb),wn&&(CIB.config.speech.textToSpeechProvider=SydneySuperAppConnector.getTextToSpeechProvider),ed&&(CIB.config.features.enableFixCodeXAsBug=ed),en&&(CIB.config.features.enableStableAutosuggestion=en),od&&(CIB.config.features.enableChatIconClickable=od),sd&&(CIB.config.features.enableChatQueryClickable=sd),hd&&(CIB.config.features.enableChatQueryClickableV2=hd),cd&&(CIB.config.features.enableChatQueryClickableV3=cd),ld&&(CIB.config.features.enableChatQueryClickableV4=ld),ad&&(CIB.config.features.enableShareQuestionWithResponse=ad),vd&&(CIB.config.features.enableShareQuestionTitlePrefix=vd),yd&&(CIB.config.features.enableShareInlineAdsIframe=yd),wd&&(CIB.config.features.enableScreenshotIgnoreOnCibSerp=wd),bd&&(CIB.config.features.enableStandaloneUtility=bd),CIB.config.speech.animationProvider=function(){var n=location.origin+"/CodexAnimations/animations.json";return ln.getJsonData(n)},pn&&(CIB.config.features.enableMetaMessages=!1,CIB.config.features.enableLearnMore=!1,CIB.config.features.enableCitations=!1,CIB.config.features.enableWelcomeScreen=!1,CIB.config.features.enableShare=!1,CIB.config.features.enableStopButton=!1,CIB.config.features.enableAnswerCards=!1,CIB.config.features.enableAds=!1),sw&&(CIB.config.sydney.request.traceId=sw),CIB.config.features.enableSpeechInput=ttt,CIB.config.features.enableShare=itt,CIB.config.features.enableMessageShareableSignal=rtt,CIB.config.features.enableAutosuggestMetrics=t((vy=_w._sydConvConfig)===null||vy===void 0?void 0:vy.enableAutosuggestMetrics,!1),ett&&(CIB.config.features.enableErrorStateNotification=!0,CIB.config.features.enableErrorStateToastNotificationResetButton=!0,CIB.config.features.enableGhostedAutoSuggest=!0,CIB.config.features.enableHoverCardAttributionFavicons=!0),git&&(CIB.config.features.enableAutoRecoverFromInvalidSession=!0),nrt&&(CIB.config.features.enableAutoRecoverFromInvalidSessionForFirstTurn=!0),trt&&(CIB.config.features.enableActionBarIMEFix=!0),irt&&(CIB.config.features.enableGhostTrailingSpaceByLanguage=!0),cw&&(CIB.config.features.enableErrorInstrumentaton=cw),gw&&(CIB.config.features.enableSydImageCreate=gw),wr(),ott&&(CIB.config.features.enableAnsCardSfx=!0),hit&&(CIB.config.features.enableFeedbackClientSideScreenshot=!0),(fd||np&&oet)&&yr(),ert&&(CIB.config.features.enableDisposeOrphanedHosts=!0),ort&&(CIB.config.features.enablePreserveTextFormat=!0),srt&&(CIB.config.features.enableHoverCardOnLearnMorePills=!0),art&&(CIB.config.features.enableCloudflareCaptcha=!0),vrt&&(CIB.config.features.enableInvisibleCaptchaChallenge=!0),yrt&&(CIB.config.features.enableResizeObserverWithAnimationFrame=!0),frt&&(CIB.config.features.enableExportDocxWithFormat=!0),net&&(CIB.config.features.enablePaywallTelemetryFix=!0),CIB.config.features.enableSecureUpdateConversation=!ltt,CIB.config.features.enableSecureSendFeedback=!att,CIB.config.features.enableShareSemSerp=ptt,CIB.config.features.enableShareCreator=wtt,CIB.config.features.enableFeedbackOnFinalized=vtt,CIB.config.features.enableShareWithNoMargin=!lit,CIB.config.features.enableMobileShareAnchorBottom=ait,CIB.config.features.enableCreativeLandingPage=vit,CIB.config.features.enableServerLogMerging=yit,CIB.config.features.enableSkipContentOriginValidation=pit,CIB.config.features.enableMobileOneClickShare=wit,CIB.config.features.enableMobileOneClickShareV2=bit,CIB.config.features.enableFeedbackInstrumentation=kit,CIB.config.features.enableCopyButtonInstrumented=wrt,CIB.config.features.enableShareModalDialog=btt,CIB.config.features.enableShareOnHostMessage=crt,CIB.config.features.enablePassBotGreetingInContext=!lrt,CIB.config.features.enableMobileKnowledgeCardOverlay=krt,CIB.config.features.enableCibOverlayForKnowledgeCard=drt,CIB.config.features.enableNewAutoSuggestEndPoint=out,CIB.config.features.enableNewTopicTooltip=wut,CIB.config.features.enableNewlineTooltip=but,CIB.config.features.enableTypingIndicatorForSerpSlotCreator=lut,CIB.config.features.enableOnProcessingStartEvent=aut,CIB.config.features.enableOnProcessingCompleteEvent=vut,CIB.config.messaging.maxMessageLength=eit,tut&&(CIB.config.testhooks.enableTestTurnLimit=iut,CIB.config.testhooks.enableTestDailyLimit=rut),hn=t((yy=_w._sydConvConfig)===null||yy===void 0?void 0:yy.enableSydTestCache,!1),hn&&(CIB.config.debug.testhook=!0,CIB.config.features.enableUserMessageCopy=!1),CIB.config.features.enableThreadsAadMsaSwitch=oit,CIB.config.messaging.isAccountLinkedAadUser=v,CIB.config.features.enableFastChatLoadAnimation=vft,CIB.config.features.enableShareInThreadsHeader=yft,CIB.config.features.enableNewConversationActivate=pft,CIB.config.features.enableMobileFirstClickShare=wft,CIB.config.features.enableThreadsTopRightButton=uet,CIB.config.features.enablePluginsTopRightButton=fet,(uut||fut)&&(CIB.config.features.enableWelcomeScreen=ug,CIB.config.features.enableWelcomeScreenItem=!ug),prt&&(CIB.config.features.enableKnowledgeCardImage=!0,CIB.config.features.enableImagesInTextMessages=!0),CIB.config.features.secureConversation=ktt,nb&&(CIB.config.features.enableAffinityInstance=nb,u(CIB.config.sydney.request.optionsSets,"machine_affinity")),rit&&(CIB.config.features.enableNewTopicAutoExpand=!0),fit&&(CIB.config.features.enableAmberTurnPerConversation=!0,CIB.config.messaging.amberTurnPerConversation=t((py=_w._sydConvConfig)===null||py===void 0?void 0:py.amberTurnPerConversation,0)),uit&&(CIB.config.features.enableMaxTurnsPerConversation=!0,CIB.config.features.enableMaxTurnsFromBackend=t((wy=_w._sydConvConfig)===null||wy===void 0?void 0:wy.enableMaxTurnsFromBackend,!1),CIB.config.messaging.maxTurnsPerConversation=fd?t((by=_w._sydConvConfig)===null||by===void 0?void 0:by.maxTurnsPerConversationMuidUser,nt):t((ky=_w._sydConvConfig)===null||ky===void 0?void 0:ky.maxTurnsPerConversation,nt)),gtt&&(CIB.config.sydney.request.Participant={Id:"1"}),tb&&(CIB.config.features.enablePerfTracker=tb),nit&&(CIB.config.features.enableEmbeddedPerf=!0),ib&&(CIB.config.features.enableSinglePerfEventPerMessage=ib),tit&&(CIB.config.features.enableE2EPerf=!0),rb&&(CIB.config.features.enableRedirectToLoginUrl=rb),ub&&(CIB.config.features.enableActionBarV2=ub),fb&&(CIB.config.features.enableSpeechDictationBridgeMode=fb),eb&&(CIB.config.features.enableSpeculativeMode=eb),iit&&(CIB.config.speech.micPermissionProvider=function(){return{}}),sit&&(CIB.config.features.enableSafeSearchSetting=!0,ou()),CIB.config.messaging.messageBufferWorkerStreamDelayMS=cit,dit&&(CIB.config.suggestions.baseUrl="https://www.bing.com"),yb&&(CIB.config.features.enableOneClickCopy=yb),pb&&(CIB.config.features.enableReorderCopiedTextReferences=pb),wb&&(CIB.config.features.enableCodeCopy=wb),bb&&(CIB.config.features.enableCodeBar=bb),kb&&(CIB.config.features.enableUserMessageCopy=kb),db&&(CIB.config.features.enableRichTextPaste=db),gb&&(CIB.config.features.enablePasteMarkdownTable=gb),nk&&(CIB.config.features.enablePasteMath=nk),tk&&(CIB.config.features.enableInlineFeedback=tk),ik&&(CIB.config.features.enableInlineFeedbackV2=ik),rk&&(CIB.config.features.enableInlineFeedbackV21=rk),uk&&(CIB.config.features.enableSerpFeedback=uk),fk&&(CIB.config.features.enableMessageExport=fk),ek&&(CIB.config.features.enableMessageExportWithPlainText=ek),ok&&(!ip||v)&&(CIB.config.features.enableMessageExportOnlineWord=ok),sk&&(!ip||v)&&(CIB.config.features.enableMessageExportOnlineExcel=sk),hk&&(CIB.config.features.enableMessageExportLocalExcel=hk),ck&&(CIB.config.features.enableTableBarFlatActions=ck),lk&&(!ip||v)&&(CIB.config.features.enableThreadExportOnlineWord=lk),ak&&(CIB.config.features.enableMessageExportV2=ak),vk&&(CIB.config.features.enableBotMessageActionsBar=vk),yk&&(CIB.config.features.enableShorterToastDuration=yk),pk&&(CIB.config.features.enableDirectlyOpenExportOnlineLink=pk),wk&&(CIB.config.features.enableLoginHintForSSO=wk),bk&&(CIB.config.features.enableLimitToMsaOnlineExport=bk),kk&&(CIB.config.features.enableMSAuth1stPartyApp=kk),dk&&(CIB.config.features.enableAdsRedirectLinkForTextMessage=dk),gk&&(CIB.config.features.enableCopyHtml=gk),nd&&(CIB.config.features.enableCopyHtmlWithHighlightedCode=nd),td&&(CIB.config.features.enableExportPdfWithAnswerScreenshot=td),id&&(CIB.config.features.enableExportDocxWithAnswerScreenshot=id),rd&&(CIB.config.features.enableLibrariesSplitImport=rd),ud&&(CIB.config.features.enableFlatActionBar=ud),tg&&(CIB.config.features.enableSydBeacon=tg),rg&&(CIB.config.features.enableStartPromotion=rg),ig&&(CIB.config.features.enableThreadContextMenu=ig),kd&&(CIB.config.features.enableNewTables=kd,CIB.config.messaging.tableVersion=urt),dd&&(CIB.config.features.enableBufferMessage=dd),gd&&(CIB.config.features.enableBufferDots=gd),og&&(CIB.config.features.enableMessagePrivacy=og),sg&&(CIB.config.features.enableCloseShareOnClickOutside=sg),pd&&(CIB.config.features.enableShowShareButtonWithSecurityCheck=pd),ng&&(CIB.config.features.enableOptimizedStreaming=ng),wg&&(CIB.config.features.enableSydneyGetMessagesHub=wg),hg&&(CIB.config.features.enableUpdateProfile=hg),kg&&(CIB.config.features.enableSuppressSigninMessage=kg),bg&&(CIB.config.features.enableOpenEdgeNotification=bg),dg&&(CIB.config.features.enableExportPdfWithRichFormat=dg),gg&&(CIB.config.features.enableAttributionImages=gg),nn&&(CIB.config.features.enableAttributionImagesWhenAdsPresent=nn),tn&&(CIB.config.features.enableAttributionImagesCarousel=tn),rn&&(CIB.config.features.enableAttributionImagesClickthrough=rn),nu(),tu(),yg&&(CIB.config.features.enableBackendExportService=yg),gr(),fg&&(CIB.config.features.enableContextMessage=fg),l=t((dy=_w._sydConvConfig)===null||dy===void 0?void 0:dy.codexOptionsSetsList,null),l&&l.length>0)for(rt=0;rt<l.length;rt++)u(CIB.config.sydney.request.optionsSets,l[rt].value);if(iu(),sut)if(hut)try{var cn=ClientObserver?ClientObserver.getBrowserWidth():ni(),set=ClientObserver?ClientObserver.getBrowserHeight():ti(),ap=cn-n.padding2TMobile<n.MIN_WIDTH_MOBILE?n.MIN_WIDTH_MOBILE:cn-n.padding2TMobile,vp=set;st(ap,vp,eg)}catch(bet){Log.Log("CI.Error","SydneyMobile","ClientObserver not loaded")}else ap=ClientObserver.getBrowserWidth(),vp=ClientObserver.getBrowserHeight(),st(ap,vp,eg);vb&&(CIB.config.features.enableTelemetryPrivacy=vb);a&&typeof MsbSydneyHelper!="undefined"?MsbSydneyHelper.initCompliantSydneyConfigs():ntt&&typeof BcsSydneyHelper!="undefined"?BcsSydneyHelper.initBingChatForSchoolsSydneyConfigs():np&&typeof BceSydneyHelper!="undefined"&&BceSydneyHelper.initBingChatForEnterpriseSydneyConfigs();a||(uu(),ru());ag&&(CIB.config.features.enablePageHeaderOverlapClamping=ag);lft&&(CIB.config.features.enablePersistentInputText=!0);vg&&(CIB.config.features.enableEmptyThreadTime=vg);CIB.config.features.enableThreadsConsent=ret;un&&(CIB.config.features.enableDeleteSingleConversationMemory=un);fn&&(CIB.config.features.enable1DSTelemetry=fn);hu()}function gt(){var i,r,u,f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexWin,!1),e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.codexWinCurrentTurn,0),o=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableCodexWinBotMessage,!1);f&&(sj_cook.set(n.userCook,er,String(e+1),!0,"/",null),o&&(n.shouldForceSendBotGreeting=!0));sj_evt.unbind("showSydFSC",gt)}function vr(){var n,i=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableDM,!1);i&&CIB.changeColorScheme&&CIB.changeColorScheme(1)}function ni(){var n=Math.round(_d.documentElement.clientWidth||_w.innerWidth);return n<100&&(n=360),n}function ti(){var n=Math.round(_d.documentElement.clientHeight||_w.innerHeight);return n<100&&(n=636),n}function ii(){var n=_w._sydConvTranslation,t,i,r;if(n!==undefined&&Object.keys(n).length>0)for(t=0,i=Object.keys(n);t<i.length;t++)r=i[t],CIB.config.strings[r]=n[r];else e(f.System,"ErrorSydConvTranslation","SydneyFSCHelper",'Error_Text: "_sydConvTranslation is undefined or empty", value: '.concat(n));sj_evt.unbind("sydConvTranslationLoaded",ii)}function yr(){var n,i,r;CIB.config.features.enableMUIDUserMode=!0;CIB.config.features.enableSignInUpsellforMuidUser=!0;var u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableCodexMuidConsentTop,!1),f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexMuidConsentExplicit,!1),e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableCodexMuidConsentImplicit,!1),o=u||f||e;o&&(CIB.config.features.enableCodexMuidConsentTop=u,CIB.config.features.enableCodexMuidConsentInlineExplicit=f,CIB.config.features.enableCodexMuidConsentInlineImplicit=e,CIB.config.sydney.muidUserConsentGiven=ri(),CIB.onConsentGiven&&CIB.onConsentGiven(function(){su()}))}function pr(){var i,r;return __awaiter(this,void 0,void 0,function(){var f,s,c,a,v,h,e,o,y=this;return __generator(this,function(p){switch(p.label){case 0:if(f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableThreadsConsent,!1),s=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableInlinePersonalizationConsent,!1),CIB.config.features.enableThreadsConsent=f,f&&CIB.onAutosaveConsentChanged)CIB.onAutosaveConsentChanged(function(t){switch(t){case"Allowed":u(CIB.config.sydney.request.optionsSets,"autosave");sj_cook.set(n.userCook,b,"1",!0,"/",null);break;default:wu(CIB.config.sydney.request.optionsSets,"autosave");sj_cook.set(n.userCook,b,"0",!0,"/",null)}s&&!CIB.onPersonalizationConsentChanged&&CIB.getConsent&&setTimeout(function(){return __awaiter(y,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return[4,CIB.getConsent()];case 1:return t=i.sent(),t.consentSettings.personalization&&sj_cook.set(n.userCook,l,t.consentSettings.personalization==="Allowed"?"1":"0",!0,"/",null),[2]}})})},100)});if(s&&CIB.onPersonalizationConsentChanged)CIB.onPersonalizationConsentChanged(function(t){switch(t){case"Allowed":sj_cook.set(n.userCook,l,"1",!0,"/",null);break;default:sj_cook.set(n.userCook,l,"0",!0,"/",null)}});return(f&&CIB.getConsent&&CIB.updateConsent)?(c=sj_cook.get(n.userCook,pt)==="1",!c)?[3,2]:(a=sj_cook.get(n.userCook,b)==="1",v=sj_cook.get(n.userCook,l)==="1",[4,CIB.updateConsent(a?"Allowed":"Denied",v?"Allowed":"Denied")]):[3,5];case 1:return p.sent(),sj_cook.set(n.userCook,pt,"0",!0,"/",null),[3,5];case 2:return[4,CIB.getConsent()];case 3:return(h=p.sent(),e=h.consentSettings.autoSave,o=h.consentSettings.personalization,!(e&&o))?[3,5]:(sj_cook.set(n.userCook,b,e==="Allowed"?"1":"0",!0,"/",null),sj_cook.set(n.userCook,l,o==="Allowed"?"1":"0",!0,"/",null),[4,CIB.updateConsent(e,o)]);case 4:p.sent();p.label=5;case 5:return[2]}})})}function wr(){var n,i,r,u,f,e,o,s,h=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableVisualSearch,!1);if(h){var l=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.removeCameraInputForVisualSearch,!1),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.dVSOC,!1),v=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.aimgut,!1),c=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.visualSearchSubscriptionId,""),y=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.eifpiab,!1),p=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.emwc,!1),w=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.eufte,!1);l&&(CIB.config.features.enableCameraInputForVisualSearch=!1);a&&(CIB.config.features.enableVisualSearchOrientationCheck=!1);CIB.config.features.enableVisualSearch=h;CIB.config.features.enableImageFilePasteInActionBar=y;CIB.config.features.enableUnsupportedFileTypeError=w;CIB.config.visualSearch.allowImageOnlyUserTurn=v;CIB.config.visualSearch.enableMobileWebCamera=p;CIB.config.visualSearch.includeCredentialInXHRRequest=!0;!c||(CIB.config.visualSearch.subscriptionId=c);br();kr();dr()}}function br(){var i,n=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.visualSearchRestrictedTonesList,null);(n===null||n===void 0?void 0:n.length)>0&&CIB.config.visualSearch&&(CIB.config.visualSearch.restrictedTones=[],n.forEach(function(n){CIB.config.visualSearch.restrictedTones.push(n.value)}))}function kr(){var i,n=CIB.config.visualSearch,t;((i=_w._sydConvConfig)===null||i===void 0?void 0:i.evssid)&&n&&(t=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("_SS","SID"),t&&(n.query?n.query.SID=t:n.query={SID:t}))}function dr(){var n,i,r,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.evscamprd,!1),u=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.vscamprdname,"");f&&u&&((r=_w.SydneyCameraProviderFactory)===null||r===void 0?void 0:r.create(u))}function gr(){var r,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,it=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableShareWholeThreadMockUp,!1),rt=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableThreadShareLandingPage,!1),ut=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableShareConversation,!1),ft=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableShareThreadWithNoCache,!1),et=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableWholeThreadPerformanceFix,!1),ot=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableShareCurrentThreadMessagesfromAPI,!1),st=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableThreadShareWithoutRenderCardRequest,!1),ht=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableGetConversationAPIWithSNRProxy,!1),ct=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableGetSharedMessagesAPIWithSNRProxy,!1),lt=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableBICHistory,!1),at=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enable2TScreenshot,!1),vt=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enable2TScreenshotSnR,!1),tt=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableThreads,!1),yt=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.enableThreadsCF,!1),pt=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.enableFlux3P,!1),n,i;if(it&&(CIB.config.features.enableShareWholeThreadMockUp=it),rt&&(CIB.config.features.enableThreadShareLandingPage=rt),ut&&(CIB.config.features.enableShareConversation=ut),ft&&(CIB.config.features.enableShareThreadWithNoCache=ft),et&&(CIB.config.features.enableWholeThreadPerformanceFix=et),ot&&(CIB.config.features.enableShareCurrentThreadMessagesfromAPI=ot),st&&(CIB.config.features.enableThreadShareWithoutRenderCardRequest=st),ht&&(CIB.config.features.enableGetConversationAPIWithSNRProxy=ht),ct&&(CIB.config.features.enableGetSharedMessagesAPIWithSNRProxy=ct),lt&&(CIB.config.features.enableBICHistory=lt),at&&(CIB.config.features.enableAnswerScreenshot=at),vt&&(CIB.config.features.enableAnswerScreenshotSnR=vt),tt){if(CIB.config.features.enableThreads=tt,n=t((nt=_w._sydThreads)===null||nt===void 0?void 0:nt.threads,null),n&&n.length>0)for(i=0;i<n.length;i++)CIB.addThread(n[i]);u(CIB.config.sydney.request.optionsSets,"autosave")}(tt||yt)&&e(f.System,"THREADS","1","1");pr()}function nu(){var n,i,r,u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableTypingIndicatorAnimation,!1),f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableTypingIndicatorDemoteStyle,!1),e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.typingIndicatorAnimationDuration,tr);u&&(CIB.config.features.enableTypingIndicatorAnimation=!0,CIB.config.messaging.typingIndicatorAnimationDuration=e);f&&(CIB.config.features.enableTypingIndicatorDemoteStyle=!0)}function tu(){var n,i,r,u,f,e,o,h=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableAdSlugsDesktop,!1),c=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableAdSlugsMobile,!1),l=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSearchQueryForInlineAds,!1),a=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableDevFormOverrideForAds,!1),v=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableFixForInlineAdsSQ,!1),s=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.codexPartnerScenario,""),y=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableInlineAdsDynamicWidth,!1);h&&(CIB.config.features.enableAdSlugsDesktop=!0);c&&(CIB.config.features.enableAdSlugsMobile=!0);l&&(CIB.config.features.enableSearchQueryForInlineAds=!0);a&&(CIB.config.features.enableDevFormOverrideForAds=!0);v&&(CIB.config.features.enableFixForInlineAdsSQ=!0);s!==""&&(CIB.config.sydney.request.scenario=s);y&&(CIB.config.features.enableInlineAdsDynamicWidth=!0)}function iu(){var n,i,r,u,f,e,o=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSydneySapphireUpsellMessageActions,!1),s=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydneySapphireUpsellEndOfChat,!1),h=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSydneySapphireUpsellVisualSearch,!1),c=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.sydneySapphireUpsellTreatment,0),l=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isAccountLinkedWithActiveAAD,!1),a=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.sydneyContinueOnPhoneShortenQRCodeUrl,"https://bingapp.microsoft.com/bing?style=newbing");o&&!l&&(CIB.config.features.enableSydSapphireUpsellOnMessageActions=o,CIB.config.mobileUpsell.sydSapphireUpsellTreatment=c,CIB.config.mobileUpsell.qrCodeBaseUrl=a);s&&(CIB.config.features.enableSydSapphireUpsellOnEndOfChat=s,CIB.config.mobileUpsell.sydSapphireUpsellTreatment=c);h&&(CIB.config.features.enableSydSapphireUpsellVisualSearch=h)}function ru(){var i,r,u,f,e,o,s,l=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.sydOptionSets,!1),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.isSydCorpnet,!1),v=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.noInitOpts,!1),y=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.extraSappOptions,""),p=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.extraEdgeOptions,""),w=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.extraBceOptions,""),k=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.removeDeepleo,!1),d=new URLSearchParams(_w.location.search.toLowerCase()),b=d.get(ai.toLowerCase()),n,h;(v||l!=""||a&&b||y||p||w)&&(n=v?[]:CIB.config.sydney.request.optionsSets,n=c(n,l),a&&(n=c(n,b)),n=c(n,y),n=c(n,p),n=c(n,w),k&&(h=n.indexOf("deepleo"),h>=0&&n.splice(h,1)),CIB.config.sydney.request.optionsSets=n)}function uu(){var h,c,l,v,y,p,w,b,k,d,nt,tt,it,rt,ut,ft,et,ot,st,ct,lt,at,ii=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.toneDefault,r),ri=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableToneCook,!1),ui=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableBalDefault,!1),fi=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.userPriorityLevel,999),ei=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableUserPriorityLevel,!1),yt=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableTonePerf,!1),oi=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableCreativeToneIgnoreAndDefaultToBalanced,!1),si=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enablePreciseToneIgnoreAndDefaultToBalanced,!1),vt,ni,ti;((k=_w._sydConvConfig)===null||k===void 0?void 0:k.shareLoadingUI)&&(CIB.config.features.enableShareLoadingUI=!0);var n=!ei||fi>0,pt=n?t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.balTone,""):"harmonyv3",wt=t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.crtTone,""),bt=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.prcTone,""),kt=t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.sydBalOpts,""),dt=t((rt=_w._sydConvConfig)===null||rt===void 0?void 0:rt.sydCrtOpts,""),gt=t((ut=_w._sydConvConfig)===null||ut===void 0?void 0:ut.sydPrcOpts,""),f=n?t((ft=_w._sydConvConfig)===null||ft===void 0?void 0:ft.sydBalExtraOpts,""):"",e=n?t((et=_w._sydConvConfig)===null||et===void 0?void 0:et.sydCrtExtraOpts,""):"",o=n?t((ot=_w._sydConvConfig)===null||ot===void 0?void 0:ot.sydPrcExtraOpts,""):"";kt&&(f+=(f!==""?",":"")+kt);dt&&(e+=(e!==""?",":"")+dt);gt&&(o+=(o!==""?",":"")+gt);f&&(s.Balanced=f.split(","));e&&(s.Creative=e.split(","));o&&(s.Precise=o.split(","));pt&&(i[r]=pt);wt&&(i[g]=wt);bt&&(i[ht]=bt);yt&&(CIB.config.features.enableTonePerf=yt);CIB.config.features.enableResponseToneSelector=!0;CIB.config.features.enablePersistentResponseToneSelector=t((st=_w._sydConvConfig)===null||st===void 0?void 0:st.enablePersistentToneSelector,!1);CIB.config.features.enableResponseToneObjects=(lt=(ct=_w._sydConvConfig)===null||ct===void 0?void 0:ct.enableSuppressTones)!==null&&lt!==void 0?lt:!1;CIB.config.features.enableResponseToneColorThemes=!0;vt=Object.keys(i);((at=_w._sydConvConfig)===null||at===void 0?void 0:at.enableSuppressTones)?CIB.config.sydney.responseTones=vt.map(function(n){var t,i,r=(i=(t=_w._sydConvConfig)===null||t===void 0?void 0:t["suppressKnob".concat(n)])!==null&&i!==void 0?i:0;return{tone:n,disabled:r}}):CIB.config.sydney.responseToneOptions=vt;ni=oi&&g===a();ti=si&&ht===a();ni||ti?fu():ri?cu(ii):ui&&u(CIB.config.sydney.request.optionsSets,i[r]);au()}function fu(){CIB.config.sydney.request.optionsSets=v(CIB.config.sydney.request.optionsSets,r,CIB.responseTone);u(CIB.config.sydney.request.optionsSets,i[r]);CIB.responseTone=r;h=CIB.responseTone}function rt(n){var u,f=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableStreamSyntheticTextResponses,!1);f&&(CIB.config.messaging.streamSyntheticTextResponses=n===r&&i[r]==="galileo"?!0:!1)}function eu(n){if(!n)return d.Demote;for(var t in d)if(t.toLowerCase().trim()===n.toLowerCase().trim())return d[t];return d.Demote}function ou(){var t=sj_cook.get(n.userCook,or),i=eu(t);CIB.config.sydney.bingFirstPageAdultFilter=i}function ri(){var t=sj_cook.get(n.userCook,it),i=sj_cook.get(w,w);return t===i}function su(){var t=sj_cook.get(w,w);sj_cook.set(n.userCook,it,t,!0,"/",null);e(f.System,"MuidConsentProvided","MuidUser","1")}function hu(){typeof CIB.version!="undefined"&&CIB.version&&e(f.System,"CIB","CIBInfo",{version:CIB.version.version})}function a(){var i,r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableToneCookExpiry,!1),u=r?n.toneCook:n.userCook;return sj_cook.get(u,n.toneCrumb)}function cu(o){var c,l,y,w,b,tt=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableToneCookExpiry,!1),d=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableBalancedSerp,!1),et=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableAlwaysCreativeSerp,!1),ot=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableSuperOptionsSets,!1),st=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enableBalancedSerpLog,!1),s=a(),nt,it;if(st&&s!=r&&e(f.System,"BalSerpOverride","Tone",{tone:s}),vu()){nt=ut(at).toLowerCase().trim();CIB.responseTone=k[nt];ft(CIB.responseTone,!1,tt);e(f.System,"SET_TONE_FROM_URL",nt,"");e(f.System,p,"Tone",{tone:CIB.responseTone});return}et?(s=g,CIB.responseTone=s):!d&&s!=null&&i.hasOwnProperty(s)?(CIB.responseTone=s,e(f.System,p,"Tone",{tone:s})):(tt&&(it=sj_cook.get(n.userCook,n.hasSetToneCrumb),it=="1"&&(sj_cook.set(n.userCook,n.hasSetToneCrumb,"0",!0,"/",null),e(f.System,"ResetTone","Tone",{}))),CIB.responseTone=o,s=o,e(f.System,"DefaultTone","Tone",{tone:s}));ot&&u(CIB.config.sydney.request.optionsSets,ir);!d&&i.hasOwnProperty(s)?(u(CIB.config.sydney.request.optionsSets,i[s]),CIB.config.sydney.request.optionsSets=v(CIB.config.sydney.request.optionsSets,s),h=s,rt(h)):d&&i.hasOwnProperty(r)&&(u(CIB.config.sydney.request.optionsSets,i[r]),CIB.config.sydney.request.optionsSets=v(CIB.config.sydney.request.optionsSets,r),h=r,rt(r))}function lu(n){var i,r=n&&n.length>1?n[1]:null,u=r?r.toLowerCase().trim():"",o,s;r&&k.hasOwnProperty(u)&&(o=n&&n.length>2?n[2]:!1,s=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableToneCookExpiry,!1),CIB.responseTone=k[u],ft(CIB.responseTone,o,s),e(f.System,p,"Tone",{tone:CIB.responseTone}))}function au(){var n,i,r,u;if(sj_evt.bind(fr,lu,!0),r=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableToneCookExpiry,!1),u=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isCompliantSydneyEndpointEnabled,!1),!u&&CIB.onResponseToneChanged)CIB.onResponseToneChanged(function(n){ft(n,!0,r)})}function ut(n){var i=_w.location.search,r=new URLSearchParams(i),t=r.get(n);return t?t:""}function vu(){var n,r=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSetToneFromUrl,!1),i;return r?(i=ut(at),i&&k.hasOwnProperty(i.toLowerCase().trim())):!1}function ft(t,r,f){var c=[i[t]].concat(s[t]).toString(),e,o;t!==a()&&fi("ChangedTone","Tone",{newTone:t});r&&(f?(e=pu(),sj_cook.set(n.toneCook,n.toneCrumb,t,!0,"/",e),sj_cook.set(n.toneCook,n.toneOptsCrumb,c,!0,"/",e),sj_cook.set(n.userCook,n.hasSetToneCrumb,"1",!0,"/",null)):(sj_cook.set(n.userCook,n.toneCrumb,t,!0,"/",null),sj_cook.set(n.userCook,n.toneOptsCrumb,c,!0,"/",null)));i.hasOwnProperty(t)&&(o=ui(CIB.config.sydney.request.optionsSets,Object.keys(i)),o!==-1?CIB.config.sydney.request.optionsSets[o]=i[t]:u(CIB.config.sydney.request.optionsSets,i[t]),CIB.config.sydney.request.optionsSets=v(CIB.config.sydney.request.optionsSets,t,h),h=t,rt(h))}function yu(){var u,e,o,s=n.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableBalancedSerp,!1),t,i,h;s&&!dt&&(dt=!0,s&&(t=n.getCookieTone(),t!=null&&t!=r&&(i=CIB.manager.conversation._lastMessage,h=(o=(e=CIB===null||CIB===void 0?void 0:CIB.config)===null||e===void 0?void 0:e.greeting)===null||o===void 0?void 0:o.shouldSendBotGreeting,CIB.config.greeting.shouldSendBotGreeting=!1,n.shouldResetBotGreeting=!1,CIB.responseTone=t,n.lastQuery="",i&&i.text&&CIB.registerContext([{author:"bot",source:"serpBalResp",text:i.text}]),n.shouldResetBotGreeting=!0,CIB.config.greeting.shouldSendBotGreeting=h,n.SydLog(f.System,"SetCookToneAfterSERP","Tone",{tone:t}))))}function pu(){var n=new Date;return n.setDate(n.getDate()+(n.getHours()<2?1:2)),n.setHours(2),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),(n.getTime()-(new Date).getTime())/6e4}function v(n,t,i){return i===void 0&&(i=""),i!=""&&s.hasOwnProperty(i)&&(n=bu(n,s[i])),t!=""&&s.hasOwnProperty(t)&&s[t].forEach(function(t){u(n,t)}),n}function u(n,t){t&&n.indexOf(t)<0&&n.push(t)}function wu(n,t){var i=n.indexOf(t);i>=0&&n.splice(i,1)}function bu(n,t){return t.forEach(function(t){var i=n.indexOf(t);i>=0&&n.splice(i,1)}),n}function ui(n,t){for(var f,u,r=0;r<t.length;r++)if(f=t[r],u=n.indexOf(i[f]),u>=0)return u;return-1}function et(n,t){var i={};return t?n.locType&&(i.LocationType=n.locType):n.accuracy&&(i.Accuracy=n.accuracy),n.state&&(i.State=decodeURI(n.state)),n.city&&(i.City=decodeURI(n.city)),n.lat&&n.long&&(i.Center={Latitude:parseFloat(n.lat),Longitude:parseFloat(n.long)}),n.source&&(i.LocationSource=n.source),n.altitude&&(i.Altitude=n.altitude),n.altitudeAcc&&(i.AltitudeAccuracy=n.altitudeAcc),n.displayName&&(i.DisplayName=n.displayName),n.name&&(i.Name=n.name),n.heading&&(i.Heading=n.heading),n.isValidLocation&&(i.IsValidLocation=n.isValidLocation),n.range&&(i.Radius=n.range),n.speed&&(i.Speed=n.speed),n.ts&&(i.Timestamp=n.ts),n.ets&&(i.ExpiryTimestamp=n.ets),i}function ku(){var t=(new Date).getTimezoneOffset(),r=Math.floor(Math.abs(t/60)),u=Math.abs(t%60),i;t<0?i="+"+o(r)+":"+o(u):t>0?i="-"+o(r)+":"+o(u):t==0&&(i="Z");var n=new Date,f=n.getDate(),e=n.getMonth()+1,s=n.getFullYear(),h=n.getHours(),c=n.getMinutes(),l=n.getSeconds();return o(s)+"-"+o(e)+"-"+o(f)+"T"+o(h)+":"+o(c)+":"+o(l)+i}function o(n){return n<10?"0"+n:n}function c(n,t){if(t){var i=t.split(",");return n.concat(i)}return n}function t(n,t){return typeof n!="undefined"?n:t}function du(n){var t=__spreadArray([],CIB.config.sydney.request.optionsSets,!0),r;return i.hasOwnProperty(n)&&(r=ui(t,Object.keys(i)),r!==-1&&(t[r]=i[n]),t=v(t,n,h)),t}function e(n,i,r,u){var e,o,s,h,f=[],l=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isCompliantSydneyEndpointEnabled,!1),c,a,v;l&&f.push("IsBizChat",l.toString());c=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.isBingChatForEnterprise,!1);c&&f.push("IsBCE",c.toString());a=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.isBingChatForFaculty,!1);a&&f.push("IsBCSFaculty","true");v=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableTelemetryPrivacy,!1);v&&(u=gu(u));Log.Log.apply(Log,__spreadArray([n,"Codex",i,!1,"Namespace",r,"CustomData",JSON.stringify(u)],f,!1))}function gu(n){return hr.forEach(function(t){var i,r;n[t]!==undefined&&(n[t]=tt);((i=n.CustomData)===null||i===void 0?void 0:i[t])!==undefined&&(n.CustomData[t]=tt);((r=n.EncryptedData)===null||r===void 0?void 0:r[t])!==undefined&&(n.EncryptedData[t]=tt)}),n}function fi(n,t,i){e(f.Interaction,n,t,i)}function nf(){if(history&&(sj_be(_w,"popstate",function(t){var i,r;((i=t===null||t===void 0?void 0:t.state)===null||i===void 0?void 0:i.inConvMode)&&_G[n.SYD_MODE]=="serp"?sj_evt.fire("showSydFSC",null,null,!1,!0):((r=t===null||t===void 0?void 0:t.state)===null||r===void 0?void 0:r.inConvMode)||_G[n.SYD_MODE]!="conversation"||(sj_evt.fire("preHideSydFSCByHistory"),sj_evt.fire("hideSydFSC",!0))}),URLSearchParams)){var t=new URLSearchParams(window.location.search);bt=t.get("showconv")==="1"}}function tf(n){if(history){if(bt&&kt&&n){kt=!1;history.replaceState({inConvMode:n},"conv");return}history.pushState({inConvMode:n},"conv")}}function rf(){var t,n;((t=history===null||history===void 0?void 0:history.state)===null||t===void 0?void 0:t.inConvMode)&&(n=_ge("sb_form_q"),n&&n.value?sj_evt.fire("showSydFSC",n.value):sj_evt.fire("showSydFSC"))}function uf(){function w(n){if(n&&n.length>=2){var t=n[1].waitlist;t&&t=="2"&&(CIB.config.features.enableMUIDUserMode=!1,CIB.config.messaging.maxTurnsPerConversation=rt,sj_evt.unbind("rewready",w))}}var i,r,u,f,e,o,s,h,c,l,d=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydTigerAns,!1),g=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSydAjaxReset,!1),y,p,a,b,k,v;CIB.onModeChanged(function(t){switch(t){case"conversation":sj_evt.fire("showSydFSC");break;case"off-stage":if(n.ignoreFirstOffStage){n.ignoreFirstOffStage=!1;CIB.showConversation();break}sj_evt.fire("hideSydFSC");break;default:Log.Log("ClientInst","Codex","ModeChangeError",!1,"CustomData",JSON.stringify({mode:t}))}});if(d&&(y=_ge("b_sydTigerCont"),y)){p=_d.querySelector("#b_pole #b_sydTigerCont")!=null;CIB.onSerpSlotSuggestionInvoked(function(){_G[n.SYD_MODE]!="conversation"&&(n.LogIntEvent("ConversationViewEnter",p?"Pole":"RightRail",{source:"ChatBubble"}),sj_evt.fire("showSydFSC"))});a=_ge("sb_form_q");a&&(CIB.config.sydney.slottedModeTurnIndex=li()&&((e=(f=(u=CIB===null||CIB===void 0?void 0:CIB.vm)===null||u===void 0?void 0:u.conversation)===null||f===void 0?void 0:f.turns)===null||e===void 0?void 0:e.length)?Math.max(CIB.vm.conversation.turns.length-1,0):0,n.lastQuery=a.value.toLowerCase().trim())}g&&sj_evt.bind("ajax.unload",function(){var n,t,i,r,u,f,e,o,s,h,c;CIB&&(c=(t=(n=CIB===null||CIB===void 0?void 0:CIB.config)===null||n===void 0?void 0:n.greeting)===null||t===void 0?void 0:t.shouldSendBotGreeting,CIB.config.greeting.shouldSendBotGreeting=!1,(u=(r=(i=CIB===null||CIB===void 0?void 0:CIB.manager)===null||i===void 0?void 0:i.stream)===null||r===void 0?void 0:r.subscription)===null||u===void 0?void 0:u.dispose(),(e=(f=CIB===null||CIB===void 0?void 0:CIB.manager)===null||f===void 0?void 0:f.stream)===null||e===void 0?void 0:e.complete(),(s=(o=CIB===null||CIB===void 0?void 0:CIB.manager)===null||o===void 0?void 0:o.stream)===null||s===void 0?void 0:s.finalizeStreamSubscription(),(h=CIB===null||CIB===void 0?void 0:CIB.manager)===null||h===void 0?void 0:h.resetConversation(),CIB.config.greeting.shouldSendBotGreeting=c)});var tt=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.codexMUIDUser,!1),it=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableSigninTurnFix,!0),rt=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.maxTurnsPerConversation,nt);if(tt&&it&&sj_evt.bind("rewready",w,!0),CIB.onModalVisibilityChanged)CIB.onModalVisibilityChanged(function(n){var t=_ge("b_header");t&&(n?Lib.CssClass.add(t,wt):Lib.CssClass.remove(t,wt))});b=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableThreads,!1);k=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.isAccountLinkedWithActiveAAD,!1);!b&&k&&(v=_qs("body"),v&&Lib.CssClass.add(v,cr))}function ff(){var t,i,r,u,f,e,o,s,h,l=(r=(i=(t=CIB===null||CIB===void 0?void 0:CIB.vm)===null||t===void 0?void 0:t.conversation)===null||i===void 0?void 0:i.model)===null||r===void 0?void 0:r.suggestions,n=document.activeElement,c;return!l||!n||n.nodeName!=="CIB-SERP"?"":(n=(s=(o=(e=(f=(u=n===null||n===void 0?void 0:n.shadowRoot)===null||u===void 0?void 0:u.activeElement)===null||f===void 0?void 0:f.shadowRoot)===null||e===void 0?void 0:e.activeElement)===null||o===void 0?void 0:o.shadowRoot)===null||s===void 0?void 0:s.activeElement,!n||n.nodeName!=="CIB-SUGGESTION-ITEM")?"":(n=(h=n===null||n===void 0?void 0:n.shadowRoot)===null||h===void 0?void 0:h.activeElement,!n||n.nodeName!=="BUTTON"||!n.textContent)?"":(c=n.textContent.trim(),l.find(function(n){return n.text===c}))?c:""}function ef(n){var i,u=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableTigerCachedAttr,!1),r;n&&(u&&(this.config.messaging.streamCachedResponses=!1,r=_d.querySelector("#b_sydTigerCont cib-serp"),r&&r.setAttribute("cached","")),this.processCachedResponse(n))}function ot(n){var t=_ge(n);t&&t.parentElement&&t.parentElement.removeChild(t)}function sf(n){CIB.processCachedResponse(n)}function hf(){var u,f,e,s=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableSydTestCache,!1),r,i,o;s&&(r=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.sydTestCacheMsg,""),i=null,r&&r.indexOf('{"messages":')==0&&(i=JSON.parse(r)),CIB.config.share&&(CIB.config.share.testShareId=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.sydTestMockShareId,"")),o=ef.bind(CIB),CIB.sendSearchQuery=function(){o(i)},CIB.addMessage=function(){o(i)},n.processCachedResponseUsingCIB=function(){CIB.processCachedResponse(i)})}function ei(n,t,i,r,u,f,e){n===void 0&&(n="");t===void 0&&(t="");i===void 0&&(i="");r===void 0&&(r="");u===void 0&&(u=!1);f===void 0&&(f=!1);e===void 0&&(e=!1);sj_evt.fire("showSydFSC",n,t,r,u,i,f,e)}function cf(){var i=new RegExp("[?&]{1}q=([^&]+)"),n=_w.location.search.match(i),t=n?n[1]:null;return t?decodeURIComponent(t.replace("+"," ")):""}function y(){var i,r,u,e=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isSapphireClient,!1),f,n;return e?cf():(f=typeof sj_b!="undefined"&&sj_b!=null?sj_b:_d.body,n=f.querySelectorAll("textarea.b_searchbox, input.b_searchbox:not(#uaseabox)"),!n||n.length<=0)?"":(u=(r=n[0])===null||r===void 0?void 0:r.getAttribute("value"))!==null&&u!==void 0?u:""}function lf(){var t=new URLSearchParams(_w.location.search),i=t.get(vt);i&&(n.lastQuery=y().toLowerCase().trim())}function oi(n,t,i,r,u,f){var o,e,s;t===void 0&&(t=!1);i===void 0&&(i="");r===void 0&&(r="");u===void 0&&(u=!1);f===void 0&&(f=!1);o="";t&&(o=y());e=i;e||(s=_d.querySelector(".b_ans #b_wpt_data"),s&&(e=s.getAttribute("data-sydctx")));ei(n,e,o,r,!1,u,f)}function af(n,t){n===void 0&&(n="");t===void 0&&(t="");var i=y();oi(i,!1,n,t,!1,!0)}function vf(t){n.isSydFSCEligible=t}function yf(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t]}function pf(){sj_evt.fire("clarity.trigger","cibChat")}function wf(n,t,i){return!n||t&&(!i||i.toLowerCase().trim()!==y().toLowerCase().trim())}function bf(t,i){var l,a,v,y,p,w,b,k,rt,o,d,u,e,it,vt,h,yt,r,c,pt,wt,bt,kt;i===void 0&&(i=!1);rt=n.getConfigOrDefault((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableSydCarouselHistory,!1);si();var f=sj_ce("div","b_metaCont"),ut=sj_ce("div","b_metaCont_Title"),dt=n.getConfigOrDefault((a=_w._sydConvTranslation)===null||a===void 0?void 0:a.sydneyCarouselTitle,"");ut.textContent=dt;f.appendChild(ut);o=sj_ce("div","b_meta_bot");f.appendChild(o);d=sj_ce("div","b_metaChat");u=sj_ce("div","b_metaCont_PillCont","b_meta_hideEx");i?u.appendChild(d):o.appendChild(d);o.appendChild(u);var ft=n.getConfigOrDefault((v=_w._sydConvConfig)===null||v===void 0?void 0:v.carouselQueries,""),gt=n.getConfigOrDefault((y=_w._sydConvConfig)===null||y===void 0?void 0:y.sydCarPropQuery,!1),et=ft?ft.split(","):null,g=et?et:CIB.vm.conversation.model.messages.filter(function(n){return n.type==="meta"&&n.text!="Generating answers for you..."}).map(function(n){return n.text}),st=0,ni=i?_w.innerWidth-ct-ki:bi,ti=_w.innerWidth-ct-lt,ht=!i,at=ni-lt,ii=CIB.vm.conversation.model._id,nt=!0;for(e=g.length-1;e>=0;e--){var ri=g[e],s=ri.split("`"),tt=s.length==1?s[0]:s.length==3?s[1]:"";nt&&(it=kf(tt)+2*di+gi,st+it<at?st+=it:ht?(nt=!1,vt=e+1,h=sj_ce("div","b_meta_exp","b_metaCont_Pill"),h.innerText="+"+vt.toString(),sj_be(h,"click",function(){Lib.CssClass.add(u,"b_metaExpanded")}),u.append(h)):(at=ti,ht=!0));yt="cdxche";r=sj_ce("a",null,"b_metaCont_Pill"+(nt?"":" b_hide"));r.href=_w.location.origin+_w.location.pathname+"?q="+tt+"&form="+yt;rt&&(r.href=r.href+"&convid="+ii);gt&&(r.href=r.href+"&features=sydcarousel,sydcpropq");r.textContent=tt;r.target="_blank";sj_be(r,"click",function(t){var r=_ge("CodexCarouselInstLink"),i;_w.si_ct&&_w.si_ct(r);i=t===null||t===void 0?void 0:t.target;n.LogIntEvent("QueryCarouselClick","QueryCarousel",{query:i===null||i===void 0?void 0:i.textContent})});u.appendChild(r)}c=sj_ce("div","b_meta_col","b_metaCont_Pill b_hide");c.innerText=n.getConfigOrDefault((p=_w._sydConvTranslation)===null||p===void 0?void 0:p.sydneyCarouselCollapse,"Collapse");sj_be(c,"click",function(){Lib.CssClass.remove(u,"b_metaExpanded")});u.append(c);g.length>0&&(pt=n.getConfigOrDefault((w=_w._sydConvConfig)===null||w===void 0?void 0:w.suppressAlsoTryWhenEnableSydCarousel,!1),pt&&ot("b_alsotry"),wt=n.getConfigOrDefault((b=_w._sydConvConfig)===null||b===void 0?void 0:b.suppressPoleRSWhenEnableSydCarousel,!1),wt&&ot("brspole"),bt=n.getConfigOrDefault((k=_w._sydConvConfig)===null||k===void 0?void 0:k.suppressPoleRecommendedSearchWhenEnableSydCarousel,!1),bt&&ot("polerecommendedsearch"),t.children.length>0?(kt=_w.getComputedStyle(t,null),kt.paddingLeft=="0px"&&Lib.CssClass.add(f,"b_metaPadding"),t.insertBefore(f,t.children[0])):t.appendChild(f),sj_evt.fire(ur))}function kf(n){var i=sj_ce("canvas"),t=i.getContext("2d");return t.font="14px Roboto",t.measureText(n).width}function si(){var n=_ge("b_metaCont");n&&n.parentElement&&n.parentElement.removeChild(n)}function hi(){var n=ut(rr);return n!==null&&n!==void 0?n:""}function st(n,i,r){var u,f,e,o,s,h,c,l,a,v=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.disable2TSearchHistory,!1),y=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enable2TTest,!1);((o=(e=CIB.config)===null||e===void 0?void 0:e.answers)===null||o===void 0?void 0:o.query)&&(CIB.config.answers.query.IG=_G.IG,CIB.config.answers.query.IID=(s=_ge("b_sydConvCont"))===null||s===void 0?void 0:s.getAttribute("_iid"),CIB.config.answers.query.cw=n,CIB.config.answers.query.ch=i,y&&(CIB.config.answers.query.features=hi()),v&&(CIB.config.answers.query.dissrchswrite="1"));((c=(h=CIB.config)===null||h===void 0?void 0:h.ads)===null||c===void 0?void 0:c.query)&&(CIB.config.ads.query.IG=_G.IG,CIB.config.ads.query.IID=r?(l=_ge("CodexAdsInstLink"))===null||l===void 0?void 0:l.getAttribute("_iid"):(a=_ge("b_sydConvCont"))===null||a===void 0?void 0:a.getAttribute("_iid"),CIB.config.ads.query.cw=n,CIB.config.ads.query.ch=i,y&&(CIB.config.ads.query.features=hi()),CIB.config.ads.query.form="codexx",v&&(CIB.config.ads.query.dissrchswrite="1"))}function df(){var n=new URLSearchParams(_w.location.search),t=n.get("showconv"),i=n.get("sendquery");return i==="1"||t!=="1"}function gf(i,r,u,f){var h,c,l,a,v,y,p,b=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableSydContext,!1),k=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableSQMsg,!1),d=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableConvModeSwitchAjax,!1),g=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableCodexMuidConsentTop,!1),nt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableCodexMuidConsentExplicit,!1),tt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableCodexMuidConsentImplicit,!1),it=g||nt||tt,rt=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.bypassConsentCheck,!1),ut=CIB.vm.conversation.model.messages.filter(function(n){return n.author=="user"}).length,e,o,w,s;if(i&&i!=n.lastQuery&&df()&&i!=n.firstQuery&&(!it||ri()||rt||ut<1)){if(f&&d){if(n.isSmoothConvSwitchUpdatedPage())return;try{if(e=CIB.vm.conversation.model.messages.filter(function(n){return n.type==="meta"&&n.text!="Generating answers for you..."||n.type==="text"&&n.author==="user"}),e&&e.length>0&&(o=e[e.length-1].text.split("`"),w=o.length==1?o[0]:o.length==3?o[1]:"",w.toLowerCase()==i.toLowerCase()))return}catch(ft){}}s=[];u&&s.push({author:"user",text:u});r&&s.push({author:"bot",text:r});b&&s.length!=0&&CIB.registerContext(s);k&&f&&!CIB.manager.conversation._lastMessage&&!CIB.manager.conversation.messages.length?CIB.sendSearchQuery(i):CIB.addMessage(i);n.lastQuery=i;n.firstQuery.length==0&&(n.firstQuery=i)}}function ci(n,t,i){return i===void 0&&(i="POST"),new Promise(function(r,u){var f=sj_gx();f.onreadystatechange=function(){f.readyState===4&&(f.status===200?r(f):u(f))};f.onerror=function(){u(f)};f.open(i,n,!0);f.setRequestHeader("content-type","application/json");f.send(t)})}function ne(n){return ci(n,"","GET").then(function(n){return Promise.resolve(JSON.parse(n.response))})["catch"](function(n){return Promise.reject(n)})}function te(n){var u,f,i,r;return n?(i=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.tigerEnhancedPromptTemplate,""),!i)?n:(i=i.replace("{0}",n),r=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.language,""),r&&r.indexOf("English")<0&&(i+=" Respond in language "+r),i):n}function li(){var n,t=new URLSearchParams(_w===null||_w===void 0?void 0:_w.location.search);return t.has("form")&&((n=t.get("form"))===null||n===void 0?void 0:n.toLowerCase())==="convaj"&&_w._isConvAjaxUpdated}function ie(){var n,t,i=(t=(n=_d.querySelector("cib-serp"))===null||n===void 0?void 0:n.shadowRoot)===null||t===void 0?void 0:t.querySelector("cib-background");i&&(i.style.height="100%",i.style.width="100%")}function re(){var n,t,i=(t=(n=_d.querySelector("cib-serp"))===null||n===void 0?void 0:n.shadowRoot)===null||t===void 0?void 0:t.querySelector("cib-conversation").shadowRoot.querySelector("cib-welcome-container").shadowRoot.querySelector(".muid-upsell");i&&(i.style.display="none")}function ue(n){try{if(history){var t=new URL(window.location.href);t.searchParams.set("showconv",n?"1":"0");window.history.replaceState(history.state,"",t)}}catch(i){console.error("Error in updateConvFlag",i)}}var ai="sydneyOptionsSets",vi="codexFeatures",yi="speechSrOptions",g="Creative",r="Balanced",ht="Precise",nt=5,pi=2,wi=2e3,bi=750,ct=48,ki=42,di=16,gi=6,lt=60,nr=66,tr=1e3,ir="so_bing_chat",at="seltone",rr="twoTFeatures",ur="SydAddCarousel",vt,p;n.SYD_MODE="SydMode";n.SYD_PREV_MODE="SydPrevMode";n.lastQuery=(n===null||n===void 0?void 0:n.lastQuery)?n===null||n===void 0?void 0:n.lastQuery:"";n.firstQuery="";n.ignoreFirstOffStage=!1;n.shouldResetBotGreeting=!0;n.shouldForceSendBotGreeting=!1;vt="shareId";n.userCook="SRCHHPGUSR";n.toneCook="CDXTC";n.toneCrumb="cdxtone";n.toneOptsCrumb="cdxtoneopts";p="InitialTone";n.hasSetToneCrumb="cdxts";var fr="crtone",er="cdxwinturn",or="ADLT",w="MUID",yt="CMUID",l="CHTPSNCST",b="CHTTRDCST",pt="CHTCSTUPDATE",sr="CMUIDBCE",hr=["chips","query","searchQuery","text"],tt="<stripped/>",wt="cdxModalVisible",cr="aad",lr=!1,bt=!1,kt=!0,it=yt,f={System:"SystemEvent",Interaction:"InteractionEvent"},i={Creative:"h3imaginative",Balanced:"harmonyv3",Precise:"h3precise"},k={c:"Creative",b:"Balanced",p:"Precise"},s={Creative:[],Balanced:[],Precise:[]},h="",dt=!1,d={Off:"1",Demote:"2",Strict:"4",KidSafe:"8",Stricter:"16",AdultOnly:"32"};n.isSydFSCEligible=n.isSydFSCEligible?n.isSydFSCEligible:!1;n.isConfigSet=!1;n.enableCreatorSendQueryWhenShowConvQuery=!0;n.padding2TMobile=92;n.MIN_WIDTH_MOBILE=288;n.setConfigs=ar;n.setColorScheme=vr;n.getMobileBrowserWidth=ni;n.getMobileBrowserHeight=ti;n.getCookieTone=a;n.updateResponseToneAfterSerp=yu;n.getConfigOrDefault=t;n.getAllowedToneOptionsSets=du;n.SydLog=e;n.LogIntEvent=fi;n.setupHistory=nf;n.pushSydHistory=tf;n.checkInitialState=rf;n.setEventListeners=uf;n.getActiveSuggestionChipText=ff;n.processCachedResponseUsingCIB=sf;n.setTestMocks=hf;n.triggerSydFSC=ei;n.getQuery=y;n.triggerShareFlow=lf;n.triggerSydFSCWithContext=oi;n.triggerSydFSCQueryWithContext=af;n.setSydFSCEligibleState=vf;n.sydPayWallTrace=yf;n.triggerClarity=pf;n.shouldMove1TAnswers=wf;n.addCarousel=bf;n.removeQueries=si;n.set2TQueryConfigs=st;n.sendFirstQuery=gf;n.createRequest=ci;n.getJsonData=ne;n.createIntelligentQuery=te;n.isSmoothConvSwitchUpdatedPage=li;n.updateChatBackgroundWidth=ie;n.hideSignInUpsellFor3P=re;n.updateConvFlagInURL=ue;sj_evt.fire("SydFSCHelperLoaded")})(SydFSCHelper||(SydFSCHelper={}))