(function(){function i(f){var tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,dr,wi,bi,ki,rr,ri,p,fi,ur,l,fr,er,ei,b,or,sr,hr,k,cr,d,lr,ar,vr,yr,pr,y,oi,a,si,g,hi;CIB.config.features.enableEmbeddedPerf&&(CIB.manager.perfTracker.markEvent("QueryEntered"),CIB.manager.perfTracker.markEvent("RequestSend"));sj_evt.unbind("sydFSCLoaded",i);var ci=_ge("b_pole"),ni=ci&&ci.querySelector("#"+t)!=null,li=_ge("b_results"),ai=li&&li.querySelector("#"+t)!=null,v=!1;Log.Log("ClientInst","Codex","TigerExists"+(ni?"Pole":ai?"Top":"RR"));var vi=_w._sydPaywallStatus,wr=_w._sydNoTigerSugg,yi=SydFSCHelper.getConfigOrDefault(_w._isMobile,!1),br=SydFSCHelper.getConfigOrDefault(_w._enableCachedHiddenText,!0),kr=SydFSCHelper.getConfigOrDefault(_w._ignoreFirstOffStage,!1),c=_ge(t),pi=_ge("b_sydtgload");if(c&&pi&&c.removeChild(pi),f){SydFSCHelper.setConfigs();n=CIB.insertAt(c);CIB.onSerpSlotSuggestionInvoked(function(){sj_evt.fire("showSydFSC")});vi=="waitlist"&&(dr=(rt=(it=(tt=_d.querySelector("#b_sydTigerCont cib-serp"))===null||tt===void 0?void 0:tt.shadowRoot)===null||it===void 0?void 0:it.querySelector("cib-conversation"))===null||rt===void 0?void 0:rt.shadowRoot,y=sj_ce("style"),y.textContent='\n                    cib-suggestion-bar {\n                        display: none;\n                    }\n                    :host([serp-slot="pole"]) .content .main, :host([serp-slot="top"]) .content .main, :host([serp-slot="right-rail"]) .content .main {\n                        padding-bottom: 20px;\n                    }\n                ')}else kr&&(SydFSCHelper.ignoreFirstOffStage=!0),SydFSCHelper.isSmoothConvSwitchUpdatedPage()&&((et=(ft=(ut=CIB===null||CIB===void 0?void 0:CIB.vm)===null||ut===void 0?void 0:ut.conversation)===null||ft===void 0?void 0:ft.turns)===null||et===void 0?void 0:et.length)&&(CIB.config.sydney.slottedModeTurnIndex=Math.max(CIB.vm.conversation.turns.length-1,0)),n=sj_ce("cib-serp"),c.appendChild(n);wi=_w._enablePole;bi=wi?"header":ni||yi?"pole":ai?"top":"right-rail";n.setAttribute("serp-slot",bi);n.setAttribute("alignment","left");n.setAttribute("mode","search");ki=SydFSCHelper.getConfigOrDefault(_w._enableExpandedChatCtx,!1);ki&&sb_st(function(){n.setAttribute("see-more","true")},0);var ti=_w._sydCachedString,gr=_w._sydTigerRRStyleUpdate,di=_w._enableSafeChatAnsStyle,gi=SydFSCHelper.getConfigOrDefault(_w._enableCachedAttr,!1),nr=SydFSCHelper.getConfigOrDefault(_w._enableMaxHeightChatAnswer,!1),ii=_w._rightRailMaxHeightTreatment,nu=SydFSCHelper.getConfigOrDefault(_w._enableCachedOrig,!1),tu=SydFSCHelper.getConfigOrDefault(_w._enableSuggVisibleFix,!1),iu=SydFSCHelper.getConfigOrDefault(_w._enableNeutralBackground,!1),ru=SydFSCHelper.getConfigOrDefault(_w._enableThemeBackground,!1),tr=new URLSearchParams(_w===null||_w===void 0?void 0:_w.location.search),uu=tr.has("shareId"),fu=tr.has("convid");if(di&&(CIB.config.features.enableHideFeedbackShowMoreMenu=!0,CIB.config.features.enableSuggestionRequery=!0,CIB.config.features.enableHideChatButton=!0),!uu&&!fu&&SydFSCHelper.enableCreatorSendQueryWhenShowConvQuery&&!SydFSCHelper.isSmoothConvSwitchUpdatedPage()){var nt=SydFSCHelper.getConfigOrDefault((ot=_w._sydConvConfig)===null||ot===void 0?void 0:ot.enableSemSerpNoCache,!1),eu=SydFSCHelper.getConfigOrDefault(_w._enableModeHide,!1),ir=SydFSCHelper.getConfigOrDefault(_w._enableSemSerpAds,!1);if(eu&&!ir){CIB.config.features.enableAds=!1;CIB.onModeChanging(function(n){CIB.config.features.enableAds=n==="conversation"})}else if(ir){CIB.config.features.enableAds=!0;CIB.config.features.enableInlineAds=!1;CIB.onModeChanging(function(n){CIB.config.features.enableInlineAds=n==="conversation"})}if(rr=SydFSCHelper.getConfigOrDefault(_w._disableSemSerpAnswerCards,!1),rr){CIB.config.features.enableAnswerCards=!1;CIB.onModeChanging(function(n){CIB.config.features.enableAnswerCards=n==="conversation"})}if(nt)CIB.onStreamingComplete(function(){var n=CIB.config.sydney.request.optionsSets.indexOf("nocacheread");n>=0&&CIB.config.sydney.request.optionsSets.splice(n,1)});if(tu){ri=!1;CIB.onStreamingComplete(function(){ri||sb_st(function(){var n,t,i,r,u=(r=(i=(t=(n=_d.querySelector("#b_sydTigerCont cib-serp"))===null||n===void 0?void 0:n.shadowRoot)===null||t===void 0?void 0:t.querySelector("cib-conversation"))===null||i===void 0?void 0:i.shadowRoot)===null||r===void 0?void 0:r.querySelector("cib-suggestion-bar");u&&u.setAttribute("visible","true");ri=!0},100)})}if(ti&&ti.indexOf('{"messages":')==0&&(p=JSON.parse(ti),p.messages)){v=!0;var ui=SydFSCHelper.getQuery(),h=[{author:"user",text:ui}],w=p.messages,ou=SydFSCHelper.getConfigOrDefault(_w._isInsights,!1);if(ou&&w.length>0&&w[0].suggestedResponses==null&&(fi=w[0].suggestionChipsMetadata,!fi||(_w.BingChatCustomGreetingString=null,sj_evt&&sj_evt.bind("onP1",function(){e(ui,fi,w)}))),h=h.concat(w),br&&(ur=JSON.parse('{"hiddenText": "","author": "bot","contentOrigin": "DeepLeo"}'),h.push(ur)),nu)for(l=0;l<h.length;l++)h[l].author=="bot"&&h[l].contentOrigin&&(h[l].contentOrigin="CachedEntry",fr=/\[\^\d+\^\]/g,h[l].text=(st=h[l].text)===null||st===void 0?void 0:st.replace(fr,""));if(er=SydFSCHelper.getConfigOrDefault(_w._enableCachedSpeed,!1),ei=SydFSCHelper.getConfigOrDefault(_w._cachedSpeed,-1),(nr||gi)&&n.setAttribute("cached",""),nr&&(CIB.config.semserp.rightRailHeightTreatment.enabled=!0,ii=="Small"?CIB.config.semserp.rightRailHeightTreatment.heightInPx=197:ii=="Medium"?CIB.config.semserp.rightRailHeightTreatment.heightInPx=369:ii=="Dynamic"&&(b=h.length>1?(ct=(ht=h[1])===null||ht===void 0?void 0:ht.text)===null||ct===void 0?void 0:ct.length:0,or=(((at=(lt=h[1])===null||lt===void 0?void 0:lt.text)===null||at===void 0?void 0:at.match(/\n/g))||[]).length,b>0&&b<=200&&((yt=(vt=h[1])===null||vt===void 0?void 0:vt.sourceAttributions)===null||yt===void 0?void 0:yt.length)==0&&or<=2?CIB.config.semserp.rightRailHeightTreatment.heightInPx=251:b>200&&b<750&&(CIB.config.semserp.rightRailHeightTreatment.heightInPx=369))),gi)CIB.config.messaging.streamCachedResponses=!1;else if(er&&ei>0){sr=CIB.config.messaging.messageBufferWorkerStreamDelayMS;hr=CIB.config.features.enableOnProcessingCompleteEvent;CIB.config.messaging.messageBufferWorkerStreamDelayMS=ei;CIB.config.features.enableOnProcessingCompleteEvent=!0;CIB.onResponseRendered(function(){CIB.config.messaging.messageBufferWorkerStreamDelayMS=sr;CIB.config.features.enableOnProcessingCompleteEvent=hr})}p.messages=h;SydFSCHelper.processCachedResponseUsingCIB(p);SydFSCHelper.lastQuery=ui.toLowerCase().trim()}k=_ge("b_sydtgmin");cr=!v&&!k&&!SydFSCHelper.isSmoothConvSwitchUpdatedPage();cr&&r(nt);k&&(d=!1,sj_be(k,"click",function(){v||SydFSCHelper.isSmoothConvSwitchUpdatedPage()||d||r(nt);d=!0;k.remove();c===null||c===void 0?void 0:c.classList.remove("b_hide");sj_log2("Click","SemanticSerpMinimized:ExpandClick","RightRail","SemanticSerp",null,null,{});SydFSCHelper.LogIntEvent("SemanticSerpMinimized","RightRail",{source:"Expand"})}),v||(lr=CIB.onModeChanging(function(n){n!="conversation"||d||SydFSCHelper.isSmoothConvSwitchUpdatedPage()||(r(nt),d=!0,lr.dispose())})))}sb_st(function(){var i,r,t=(i=n===null||n===void 0?void 0:n.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-slim-header"),u;t&&(u=(r=t===null||t===void 0?void 0:t.shadowRoot)===null||r===void 0?void 0:r.querySelector("button"),u&&sj_be(u,"click",function(){sj_evt.fire("showSydFSC");SydFSCHelper.LogIntEvent("ConversationViewEnter","RightRail",{source:"Expand"})}))},0);di&&sb_st(s,0);ar=SydFSCHelper.getConfigOrDefault(_w._enableHeightPerf,!1);vr=_ge("b_sydtgmin");ar&&!vr&&v&&u(c,ni&&!yi);yr=location.search.indexOf("?");pr=location.search.slice(yr+1).split("&").indexOf("iscopilotedu=1")>=0;(pr||vi=="waitlist"||wr)&&(y=sj_ce("style"),y.textContent='\n                cib-suggestion-bar {\n                    display: none;\n                }\n                :host([serp-slot="pole"]) .content .main, :host([serp-slot="top"]) .content .main, :host([serp-slot="right-rail"]) .content .main {\n                    padding-bottom: 20px;\n                }\n            ',oi=(wt=(pt=n===null||n===void 0?void 0:n.shadowRoot)===null||pt===void 0?void 0:pt.querySelector("cib-conversation"))===null||wt===void 0?void 0:wt.shadowRoot,oi&&oi.appendChild(y));gr&&(a=(bt=n===null||n===void 0?void 0:n.shadowRoot)===null||bt===void 0?void 0:bt.querySelector("cib-see-more-container"),a&&(si=sj_ce("style"),si.textContent="button { display: none !important; }",a.style.setProperty("--max-height","4000px"),(kt=a===null||a===void 0?void 0:a.shadowRoot)===null||kt===void 0?void 0:kt.appendChild(si)),g=(dt=n===null||n===void 0?void 0:n.shadowRoot)===null||dt===void 0?void 0:dt.querySelector("cib-conversation"),g&&(hi=sj_ce("style"),hi.textContent="cib-suggestion-bar { overflow: hidden; height: 34px; }",(gt=g===null||g===void 0?void 0:g.shadowRoot)===null||gt===void 0?void 0:gt.appendChild(hi)));iu&&(CIB.config.features.enableNeutralBackgroundForSeeMore=!0);ru&&(CIB.config.features.enableThemeBackgroundColorForHeader=!0);SydFSCHelper.getConfigOrDefault(_w._enableEnrichment,!1)&&o();sj_evt.fire("sydTigerLoaded")}function u(t,i){t.classList.add("b_hide");sb_st(function(){var u,f=(u=n===null||n===void 0?void 0:n.shadowRoot)===null||u===void 0?void 0:u.querySelector("cib-see-more-container"),r,e;t&&f&&(i?t.style.setProperty("min-height","196px"):(r=parseInt(_w.getComputedStyle(f).getPropertyValue("max-height")),e=parseInt(_w.getComputedStyle(f).getPropertyValue("min-height")),r>0&&r==e+1&&t.style.setProperty("min-height",r+"px")));t===null||t===void 0?void 0:t.classList.remove("b_hide")},0)}function r(n){var i,r,t=SydFSCHelper.getQuery(),u,f,e;t&&(n&&CIB.config.sydney.request.optionsSets.push("nocacheread"),u=SydFSCHelper.getConfigOrDefault((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSQMsg,!1),!u||CIB.manager.conversation._lastMessage||CIB.manager.conversation.messages.length?CIB.addMessage(t):(f=SydFSCHelper.getConfigOrDefault((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableTigerEnhancedPrompt,!1),f?(e=SydFSCHelper.createIntelligentQuery(t),CIB.sendHiddenSearchQuery(e,t)):CIB.sendSearchQuery(t)),SydFSCHelper.lastQuery=t.toLowerCase().trim())}function f(){var i,r,u,f,t,e,o;_w._enableTigerSeeMoreCustomStyle&&(t=(i=n===null||n===void 0?void 0:n.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-see-more-container"),e=sj_ce("style"),e.textContent=".cover button { color: rgb(128, 128, 128); background:white; box-shadow: 0px 0.3px 0.9px rgba(0, 0, 0, 0.12), 0px 1.6px 3.6px rgba(0, 0, 0, 0.16);}",(r=t===null||t===void 0?void 0:t.shadowRoot)===null||r===void 0?void 0:r.appendChild(e),o=sj_ce("style"),o.textContent="svg path{ fill:rgb(128, 128, 128); }",(f=(u=t===null||t===void 0?void 0:t.shadowRoot.querySelector("button svg-icon"))===null||u===void 0?void 0:u.shadowRoot)===null||f===void 0?void 0:f.appendChild(o))}function e(n,t,i){var r=SydFSCHelper.getConfigOrDefault(_w._fetchScBaseUrl,"wpt/FetchSuggestedResponse?testhooks=");r=r+"&context=&q="+n+"&qencoded=&metadata="+t+"&enableSydTestCache=false";sj_ajax(r,{callback:function(n,t){var u,r,e,f;n&&(sj_log("CI.WPT","Execute","Ajax call FetchSuggestedResponse succeed"),u=t.request.response,!u||(r=JSON.parse(u),r&&r.length>0&&(e=r.map(function(n){return{author:"user",contentOrigin:"SuggestionChipsFalconService",feedback:{type:"None"},messageType:"Suggestion",offense:"Unknown",text:n}}),f=i[0],f.suggestedResponses=e,CIB.updateSuggestions(f))))},timeout:1e4})}function o(){var t=_ge("b_sydpg");t&&(n.appendChild(t),t.classList.remove("b_hide"))}function s(){var r,u,f,i=(r=n===null||n===void 0?void 0:n.shadowRoot)===null||r===void 0?void 0:r.querySelector("cib-slim-header"),t,e;i&&(t=(u=i===null||i===void 0?void 0:i.shadowRoot)===null||u===void 0?void 0:u.querySelector("cib-logo"),t&&(e=(f=t===null||t===void 0?void 0:t.shadowRoot)===null||f===void 0?void 0:f.querySelector("div.icon"),e&&(e.innerHTML='<svg width="36" height="36" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M27.343 35.63a1.998 1.998 0 0 0 2.313.005c.349-.246.611-.596.75-1l.62-1.905a2.72 2.72 0 0 1 .649-1.052 2.617 2.617 0 0 1 1.05-.648l1.928-.63a1.998 1.998 0 0 0 1.325-1.6 2.002 2.002 0 0 0-1.383-2.202l-1.908-.623a2.684 2.684 0 0 1-1.7-1.695l-.629-1.932a1.96 1.96 0 0 0-.732-.975 1.998 1.998 0 0 0-3.06 1l-.617 1.905a2.67 2.67 0 0 1-1.661 1.697l-1.931.63a1.998 1.998 0 0 0-.973 3.073c.247.339.594.592.993.722l1.906.618c.397.133.758.357 1.054.652.296.296.517.657.645 1.055l.632 1.935a2 2 0 0 0 .73.97Z" fill="url(#b)"/><path opacity=".15" d="M27.343 35.63a1.998 1.998 0 0 0 2.313.005c.349-.246.611-.596.75-1l.62-1.905a2.72 2.72 0 0 1 .649-1.052 2.617 2.617 0 0 1 1.05-.648l1.928-.63a1.998 1.998 0 0 0 1.325-1.6 2.002 2.002 0 0 0-1.383-2.202l-1.908-.623a2.684 2.684 0 0 1-1.7-1.695l-.629-1.932a1.96 1.96 0 0 0-.732-.975 1.998 1.998 0 0 0-3.06 1l-.617 1.905a2.67 2.67 0 0 1-1.661 1.697l-1.931.63a1.998 1.998 0 0 0-.973 3.073c.247.339.594.592.993.722l1.906.618c.397.133.758.357 1.054.652.296.296.517.657.645 1.055l.632 1.935a2 2 0 0 0 .73.97Z" fill="url(#c)"/><path d="M11.438 25.505a2.71 2.71 0 0 0 3.132-.007 2.89 2.89 0 0 0 1.006-1.347l1.163-3.57a6.075 6.075 0 0 1 3.841-3.847l3.618-1.173a2.717 2.717 0 0 0 1.3-4.133 2.746 2.746 0 0 0-1.415-1.017L20.507 9.25a6.073 6.073 0 0 1-3.849-3.841l-1.175-3.61a2.689 2.689 0 0 0-.994-1.3 2.715 2.715 0 0 0-4.137 1.344L9.163 5.483a6.075 6.075 0 0 1-3.745 3.769l-3.617 1.165a2.716 2.716 0 0 0-1.3 4.13c.332.466.802.817 1.344 1.003l3.573 1.158a6.068 6.068 0 0 1 3.852 3.87l1.175 3.617c.188.529.534.986.993 1.31Z" fill="url(#d)"/><path opacity=".1" d="M11.438 25.505a2.71 2.71 0 0 0 3.132-.007 2.89 2.89 0 0 0 1.006-1.347l1.163-3.57a6.075 6.075 0 0 1 3.841-3.847l3.618-1.173a2.717 2.717 0 0 0 1.3-4.133 2.746 2.746 0 0 0-1.415-1.017L20.507 9.25a6.073 6.073 0 0 1-3.849-3.841l-1.175-3.61a2.689 2.689 0 0 0-.994-1.3 2.715 2.715 0 0 0-4.137 1.344L9.163 5.483a6.075 6.075 0 0 1-3.745 3.769l-3.617 1.165a2.716 2.716 0 0 0-1.3 4.13c.332.466.802.817 1.344 1.003l3.573 1.158a6.068 6.068 0 0 1 3.852 3.87l1.175 3.617c.188.529.534.986.993 1.31Z" fill="url(#e)"/><\/g><defs><linearGradient id="b" x1="20.999" y1="28.5" x2="36" y2="28.5" gradientUnits="userSpaceOnUse"><stop stop-color="#39D2FF"/><stop offset=".15" stop-color="#38CEFE"/><stop offset=".293" stop-color="#35C3FA"/><stop offset=".433" stop-color="#2FB0F3"/><stop offset=".547" stop-color="#299AEB"/><stop offset=".583" stop-color="#2692EC"/><stop offset=".763" stop-color="#1A6CF1"/><stop offset=".909" stop-color="#1355F4"/><stop offset="1" stop-color="#104CF5"/><\/linearGradient><linearGradient id="c" x1="23.981" y1="34.815" x2="37.761" y2="26.738" gradientUnits="userSpaceOnUse"><stop stop-color="#fff"/><stop offset=".373" stop-color="#FDFDFD"/><stop offset=".507" stop-color="#F6F6F6"/><stop offset=".603" stop-color="#EBEBEB"/><stop offset=".68" stop-color="#DADADA"/><stop offset=".746" stop-color="#C4C4C4"/><stop offset=".805" stop-color="#A8A8A8"/><stop offset=".858" stop-color="#888"/><stop offset=".907" stop-color="#626262"/><stop offset=".952" stop-color="#373737"/><stop offset=".993" stop-color="#090909"/><stop offset="1"/><\/linearGradient><linearGradient id="d" x1="-.001" y1="12.999" x2="26" y2="12.999" gradientUnits="userSpaceOnUse"><stop stop-color="#39D2FF"/><stop offset=".15" stop-color="#38CEFE"/><stop offset=".293" stop-color="#35C3FA"/><stop offset=".433" stop-color="#2FB0F3"/><stop offset=".547" stop-color="#299AEB"/><stop offset=".583" stop-color="#2692EC"/><stop offset=".763" stop-color="#1A6CF1"/><stop offset=".909" stop-color="#1355F4"/><stop offset="1" stop-color="#104CF5"/><\/linearGradient><linearGradient id="e" x1="13" y1="0" x2="13" y2="26" gradientUnits="userSpaceOnUse"><stop stop-color="#fff"/><stop offset=".373" stop-color="#FDFDFD"/><stop offset=".507" stop-color="#F6F6F6"/><stop offset=".603" stop-color="#EBEBEB"/><stop offset=".68" stop-color="#DADADA"/><stop offset=".746" stop-color="#C4C4C4"/><stop offset=".805" stop-color="#A8A8A8"/><stop offset=".858" stop-color="#888"/><stop offset=".907" stop-color="#626262"/><stop offset=".952" stop-color="#373737"/><stop offset=".993" stop-color="#090909"/><stop offset="1"/><\/linearGradient><clipPath id="a"><path fill="#fff" d="M0 0h36v36H0z"/><\/clipPath><\/defs><\/svg>')))}var t="b_sydTigerCont",n=null;sj_evt.bind("sydFSCLoaded",function(){i(!1)},!0);sj_evt.bind("sydFSCPaywallLoaded",function(){i(!0)},!0);sj_evt.bind("onP1",f)})()