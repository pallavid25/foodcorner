var SydneyFullScreenConv;(function(n){function ir(n){var d,g,nt,tt,ut,ft,ot,ht,ct,lt,wt,dt,gt,fi,ir,lr,ar,yr,pr,wr,dr,gr,tu,iu,ru,uu,fu,eu,ou,su,hu,cu,vu,yu,pu,bu,du,gu,nf,tf,rf,uf,ff,ef,sf,hf,cf,lf,af,vf,yf,pf,wf,y,bf,ie,re,ue,fe,ee,kf,oe,df,i,p,f,gf,ne,se,w,he;if(n===void 0&&(n=null),y=_ge(vr),!y.querySelector("cib-serp")){at=(d=_w._sydConvConfig)===null||d===void 0?void 0:d.usePill;vt=(g=_w._sydConvConfig)===null||g===void 0?void 0:g.enableScrollOut;yt=(nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.enableSydContext;l=(tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.convBackBtn;it=(ut=_w._sydConvConfig)===null||ut===void 0?void 0:ut.enableSetConvQueryFlag;br=(ft=_w._sydConvConfig)===null||ft===void 0?void 0:ft.enableSydTigerAns;ni=(ot=_w._sydConvConfig)===null||ot===void 0?void 0:ot.enableSydAjax;et=(ht=_w._sydConvConfig)===null||ht===void 0?void 0:ht.enableSydCarousel;k=(ct=_w._sydConvConfig)===null||ct===void 0?void 0:ct.moveOnlySydXAnswers;e=(lt=_w._sydConvConfig)===null||lt===void 0?void 0:lt.hideSydFSC;o=(wt=_w._sydConvConfig)===null||wt===void 0?void 0:wt.enableSydOverlay;pt=(dt=_w._sydConvConfig)===null||dt===void 0?void 0:dt.enable1TCibSlot;b=(gt=_w._sydConvConfig)===null||gt===void 0?void 0:gt.enableSydX1T;ti=(fi=_w._sydConvConfig)===null||fi===void 0?void 0:fi.hideSydMic;ii=(ir=_w._sydConvConfig)===null||ir===void 0?void 0:ir.fromNoResults;vi=(lr=_w._sydConvConfig)===null||lr===void 0?void 0:lr.codexWinEnableCustomGreeting;yi=(ar=_w._sydConvConfig)===null||ar===void 0?void 0:ar.codexWinGreetingCustomString;ei=(yr=_w._sydConvConfig)===null||yr===void 0?void 0:yr.checkCreatorAnsFor1T;ri=SydFSCHelper.getConfigOrDefault((pr=_w._sydConvConfig)===null||pr===void 0?void 0:pr.enableSydCarouselHistory,!1);kr=SydFSCHelper.getConfigOrDefault((wr=_w._sydConvConfig)===null||wr===void 0?void 0:wr.enableSQMsg,!1);ui=SydFSCHelper.getConfigOrDefault((dr=_w._sydConvConfig)===null||dr===void 0?void 0:dr.enableSemSerpNoCache,!1);oi=SydFSCHelper.getConfigOrDefault((gr=_w._sydConvConfig)===null||gr===void 0?void 0:gr.enableSydStaticAdsLink,!1);var ce=SydFSCHelper.getConfigOrDefault((tu=_w._sydConvConfig)===null||tu===void 0?void 0:tu.hideSydReconnect,!1),le=(iu=_w._sydConvConfig)===null||iu===void 0?void 0:iu.enableDlBing,ae=(ru=_w._sydConvConfig)===null||ru===void 0?void 0:ru.disableSydGhosting,ve=SydFSCHelper.getConfigOrDefault((uu=_w._sydConvConfig)===null||uu===void 0?void 0:uu.disableCibNotificationStyleUpdate,!1),ye=_w._sydCachedString,te=_w._sydAddOptionsSet;if(_G[SydFSCHelper.SYD_MODE]="serp",_G[SydFSCHelper.SYD_PREV_MODE]="",si=SydFSCHelper.getConfigOrDefault((fu=_w._sydConvConfig)===null||fu===void 0?void 0:fu.disableTabletScroll,!1),hi=SydFSCHelper.getConfigOrDefault((eu=_w._sydConvConfig)===null||eu===void 0?void 0:eu.disableTabletScrollOut,!1),c=SydFSCHelper.getConfigOrDefault((ou=_w._sydConvConfig)===null||ou===void 0?void 0:ou.disableFocusedTabletScrollOut,!1),ci=SydFSCHelper.getConfigOrDefault((su=_w._sydConvConfig)===null||su===void 0?void 0:su.disableTouchDesktopScroll,!1),st=SydFSCHelper.getConfigOrDefault((hu=_w._sydConvConfig)===null||hu===void 0?void 0:hu.disableDesktopScroll,!1),li=SydFSCHelper.getConfigOrDefault((cu=_w._sydConvConfig)===null||cu===void 0?void 0:cu.enableChatScrollFix,!1),ai=SydFSCHelper.getConfigOrDefault((vu=_w._sydConvConfig)===null||vu===void 0?void 0:vu.enableConvModeSwitchAjax,!1),bi=SydFSCHelper.getConfigOrDefault((yu=_w._sydConvConfig)===null||yu===void 0?void 0:yu.enableCssSplitConvModeOnClick,0),bt=SydFSCHelper.getConfigOrDefault((pu=_w._sydConvConfig)===null||pu===void 0?void 0:pu.enableWelcomeScreenV2,!1),kt=SydFSCHelper.getConfigOrDefault((bu=_w._sydConvConfig)===null||bu===void 0?void 0:bu.enableChatFRE,!1),ki=SydFSCHelper.getConfigOrDefault((du=_w._sydConvConfig)===null||du===void 0?void 0:du.enable2TQueryConfigsOnSerpLoad,!1),di=SydFSCHelper.getConfigOrDefault((gu=_w._sydConvConfig)===null||gu===void 0?void 0:gu.enableBackgroundFix,!1),gi=SydFSCHelper.getConfigOrDefault((nf=_w._sydConvConfig)===null||nf===void 0?void 0:nf.hideMuidUpsell,!1),nr=SydFSCHelper.getConfigOrDefault((tf=_w._sydConvConfig)===null||tf===void 0?void 0:tf.enableSERPHideShowConv,!1),tr=SydFSCHelper.getConfigOrDefault((rf=_w._sydConvConfig)===null||rf===void 0?void 0:rf.enableBceBcbToggle,!1),a=_d.createElement("slot"),a.setAttribute("name","firstAnswer"),a.setAttribute("slot","firstAns"),v=_d.createElement("slot"),v.setAttribute("name","firstAns"),r=((uf=_d.getElementsByClassName("b_top"))===null||uf===void 0?void 0:uf.length)>0?_d.getElementsByClassName("b_top")[0]:null,rt=!r?!1:r.getElementsByClassName("b_wpt_ch").length>0||r.getElementsByClassName("qna-sydney").length>0,bf=_ge("b_header"),y&&bf&&sj_b.insertBefore(y,bf),t=_d.createElement("div"),t===null||t===void 0?void 0:t.setAttribute("slot","firstAnswer"),t===null||t===void 0?void 0:t.setAttribute("id","sydFirstAnswer"),t.style.maxWidth="648px",SydFSCHelper.setConfigs(n),SydFSCHelper.setEventListeners(),SydFSCHelper.setSydFSCEligibleState(!0),u=CIB.insertAt(y),SydFSCHelper.setColorScheme(),ie=SydFSCHelper.getConfigOrDefault((ff=_w._sydConvConfig)===null||ff===void 0?void 0:ff.isBingChatForEnterprise,!1),re=ie&&typeof BceSydneyHelper!="undefined"?BceSydneyHelper.getSydneyWelcomeCards:undefined,bt?SydWelcomeScreen===null||SydWelcomeScreen===void 0?void 0:SydWelcomeScreen.setContent(u,re):kt&&(SydneyChatFRE===null||SydneyChatFRE===void 0?void 0:SydneyChatFRE.setContent(u)),ue=SydFSCHelper.getConfigOrDefault((ef=_w._sydConvConfig)===null||ef===void 0?void 0:ef.isCompliantSydneyEndpointEnabled,!1),ue&&MsbSydneyHelper.addTenantLogoToHeader(),fe=SydFSCHelper.getConfigOrDefault((sf=_w._sydConvConfig)===null||sf===void 0?void 0:sf.useAccountLinkingForConversationLimitUpsell,!1),fe&&(CIB.config.bing.signIn.query.action="acclink",CIB.config.bing.signIn.query.crea="MY04B",CIB.config.bing.signIn.query.pn="AccountLinking_Chat",CIB.config.bing.signIn.query.publ="BingIP"),u.setAttribute("alignment","left"),le&&CIB.config.sydney.request.optionsSets.push("dlbing"),te&&CIB.config.sydney.request.optionsSets.push(te),ii)SydFSCHelper.lastQuery=SydFSCHelper.getQuery().toLowerCase().trim();else{CIB.config.greeting.shouldSendBotGreeting=SydFSCHelper.shouldForceSendBotGreeting;ai||(sj_evt.bind("ajax.unload",function(){SydFSCHelper.shouldResetBotGreeting=!1}),sj_evt.bind("ajax.load",function(){SydFSCHelper.shouldResetBotGreeting=!0}));CIB.onConversationRequestStateChange(function(n){n||CIB.config.greeting.shouldSendBotGreeting||!SydFSCHelper.shouldResetBotGreeting||(CIB.config.greeting.shouldSendBotGreeting=!0)})}ee=SydFSCHelper.getConfigOrDefault((hf=_w._sydConvConfig)===null||hf===void 0?void 0:hf.disResetTT,!1);ee&&(kf=(lf=(cf=u===null||u===void 0?void 0:u.shadowRoot)===null||cf===void 0?void 0:cf.querySelector("cib-action-bar"))===null||lf===void 0?void 0:lf.shadowRoot,kf&&(f=sj_ce("style"),f.textContent="\n                    cib-tooltip {\n                        display: none !important;\n                    }\n                ",kf.appendChild(f)));SydFSCHelper.setTestMocks();ri&&(oe=new URLSearchParams(_w.location.search),df=oe.get("convid"),df&&ku(df));i=(af=_d.querySelector("cib-serp"))===null||af===void 0?void 0:af.shadowRoot;p=i===null||i===void 0?void 0:i.querySelector("cib-conversation");p&&p.shadowRoot&&(s=p.shadowRoot.querySelector(".scroller"),f=sj_ce("style"),ce&&(f.textContent="\n                cib-notification-container {\n                    display: none;\n                }\n            "),p.shadowRoot.appendChild(f));ae&&(gf=(yf=(vf=i===null||i===void 0?void 0:i.querySelector("cib-action-bar"))===null||vf===void 0?void 0:vf.shadowRoot)===null||yf===void 0?void 0:yf.querySelector(".autosuggest-text"),gf&&(gf.style.display="none"));ne="ontouchstart"in window||!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0;se=c&&(pi||wi||ClientObserver.getBrowserWidth()<780);ne&&Log.Log("ClientInst","Codex","TouchD");o||si||se||ne&&ci||(sj_be(_w,"mousewheel",fr),sj_be(_w,"touchstart",er),sj_be(_w,"touchmove",or),sj_be(_w,"touchend",sr),li&&(w=(pf=_d.querySelector("cib-serp"))===null||pf===void 0?void 0:pf.shadowRoot.querySelector("cib-side-panel"),w&&sj_be(w,"mouseenter",lu),w&&sj_be(w,"mouseleave",au)),c&&(sj_be(_w,"keydown",hr),sj_be(_w,"resize",cr)));SydFSCHelper.triggerShareFlow();rr();sj_evt.bind("ajax.load",rr);l&&(SydFSCHelper.setupHistory(),SydFSCHelper.checkInitialState());nu();o&&wu();SydFSCHelper.triggerClarity();CIB.onResetConversation(function(){SydFSCHelper.shouldMove1TAnswers(b,h)&&ur()});CIB.onModeChanged(function(){sj_evt.fire("onModeChanged")});if(CIB.onMobileUpsellPopupShown)CIB.onMobileUpsellPopupShown(function(){var n={convId:CIB.manager.conversation.id,responseTone:CIB.responseTone};SydFSCHelper.SydLog("SystemEvent","MobileUpsell","MobileUpsellPopupShown",n);SydFSCHelper.createRequest("sydchat/writeConvInfo",JSON.stringify(n))});he=((wf=_w.BingChatCustomGreetingString)===null||wf===void 0?void 0:wf.length)>0;vi&&!he&&SydFSCHelper.processCachedResponseUsingCIB(JSON.parse(yi));di&&SydFSCHelper.updateChatBackgroundWidth();gi&&SydFSCHelper.hideSignInUpsellFor3P()}}function dr(){var n=_ge("b_content");sb_st(function(){n&&Lib.CssClass.contains(n,"b_showconv")&&Lib.CssClass.remove(n,"b_showconv")},0)}function rr(){sj_evt.bind("hideSydFSC",function(n){var c,t,i,a,p,u,f,r,s;if(!ft){if(ft=!0,Log.Log("ClientInst","Codex","LeaveConversationMode"),e||Lib.CssClass.remove(sj_b,g),c=_ge("sb_form"),c&&Lib.CssClass.contains(c,"hassbi")&&Lib.CssClass.remove(c,"hassbi"),CIB.hideConversation(),e||o||(Lib.CssClass.add(_d.documentElement,"b_delayOvflw"),SydFSCHelper.shouldMove1TAnswers(b,h)&&ur(),t=_ge("b-scopeListItem-web"),t&&t.children.length>0&&(t.parentElement.removeAttribute("role"),t.children[0].setAttribute("aria-current","page"),t.children[0].removeAttribute("aria-selected"),t.children[0].removeAttribute("role"),Lib.CssClass.add(t,"b_active"),_ge("b_skip_to_content").setAttribute("tabindex","0")),i=_ge("b-scopeListItem-conv"),i&&i.children.length>0&&(i.children[0].removeAttribute("role"),i.children[0].removeAttribute("aria-selected"),i.children[0].setAttribute("aria-current","false"),Lib.CssClass.remove(i,"b_active")),a=_ge("b_phead_chat"),a&&Lib.CssClass.contains(a,"b_active")&&Lib.CssClass.remove(a,"b_active")),_G[SydFSCHelper.SYD_PREV_MODE]!=_G[SydFSCHelper.SYD_MODE]&&(_G[SydFSCHelper.SYD_PREV_MODE]=_G[SydFSCHelper.SYD_MODE],l&&(p=n&&n.length>1?n[1]:!1,p||SydFSCHelper.pushSydHistory(!1))),it&&SydFSCHelper.updateConvFlagInURL(!1),_G[SydFSCHelper.SYD_MODE]="serp",et){if(u=_ge("b_pole"),!u){for(u=sj_ce("div","b_pole"),f=_d.querySelector("main"),r=_ge("b_results");r&&f&&r.parentElement!=f;)r=r.parentElement;f&&r&&f.insertBefore(u,r)}SydFSCHelper.addCarousel(u)}else if(ni&&(s=CIB.vm.conversation.model.messages.filter(function(n){return n.type==="meta"&&n.text!="Generating answers for you..."||n.type==="text"&&n.author==="user"}),s&&s.length>0)){var v=s[s.length-1].text.split("`"),y=v.length==1?v[0]:v.length==3?v[1]:"",w=_ge("sb_form_go"),k=_ge("sb_form_q");_w.sj_isAjax&&y&&k.value.toLowerCase()!=y.toLowerCase()&&w&&(k.value=y,SydFSCHelper.lastQuery=y,w.click())}ft=!1}});sb_st(function(){sj_evt.bind("showSydFSC",hu,!0)},0);nr&&sj_evt.bind("sydFSCLoaded",dr,!0);sj_evt.bind("onModeChanged",function(){});sj_evt.fire("convInit:done")}function gr(){var n;r=((n=_d.getElementsByClassName("b_top"))===null||n===void 0?void 0:n.length)>0?_d.getElementsByClassName("b_top")[0]:null;wt=sj_b.querySelector("#b_sydTigerCont")!=null;rt=!!r&&r.querySelector("#sydwrap_wrapper")!=null;k&&(i=sj_b.querySelector("#sydwrap_wrapper #b_syd_sm_chat .b_wpt_chat"),i&&(Lib.CssClass.add(i,dt),fi=i.querySelector(".b_wpt_creator_content")!=null))}function nu(){var n=_ge("id_hbfo");sj_be(n,"click",function(n){var r=n.target,t,i;_G[SydFSCHelper.SYD_MODE]=="conversation"&&r&&(t=tu(r),t&&t.target!="_blank"&&(i="",t.href.indexOf("/profile/")>=0?i="profile":t.href.indexOf("/account/")>=0&&(i="account"),SydFSCHelper.LogIntEvent("ConversationViewExit","Conversation",{source:"ClickMenu",target:i})))})}function tu(n){while(n!=null){if(n.tagName=="A"&&Lib.CssClass.contains(n,"hb_section"))return n;n=n.parentElement}return null}function ct(n,t,i){i===void 0&&(i=!1);t&&n&&(i?n.prepend(t):n.appendChild(t))}function iu(n){var u,f,e,o,s,h;if(!at){ct(_ge("b_sydtoporpole"),n);return}var l=_d.querySelector("cib-serp"),i=(f=(u=_d.querySelector("cib-serp"))===null||u===void 0?void 0:u.shadowRoot)===null||f===void 0?void 0:f.querySelector("cib-conversation"),r=(o=(e=i===null||i===void 0?void 0:i.shadowRoot)===null||e===void 0?void 0:e.querySelector(".scroller"))===null||o===void 0?void 0:o.querySelector(".main cib-welcome-container"),c=(h=(s=i===null||i===void 0?void 0:i.shadowRoot)===null||s===void 0?void 0:s.querySelector(".scroller"))===null||h===void 0?void 0:h.querySelector(".main");i===null||i===void 0?void 0:i.appendChild(a);r?r===null||r===void 0?void 0:r.after(v):c===null||c===void 0?void 0:c.prepend(v);t===null||t===void 0?void 0:t.appendChild(n);pt;ct(l,t);ru()}function ru(){uu();fu()}function uu(){var t=_d.querySelector("#sydFirstAnswer .b_wpt_chat"),n=_d.querySelector("#sydFirstAnswer .b_wpt_chat .b_wpt_chat_inner");t&&n&&(t.querySelector("b_wpt_chat_inner > .b_sideBleed")&&(n.style.padding="0 20px 5px 20px"),t.querySelector(".b_wpt_chat_inner > .wtr_core.b_sideBleed, .b_wpt_chat_inner > .b_sideBleed #lMapContainer, .b_wpt_chat_inner > .ji_container, .b_wpt_chat_inner > .b_sideBleed #placeAnswer, .b_wpt_chat_inner > .b_sideBleed .ckt_main, .b_wpt_chat_inner > .b_sideBleed .mit_ans, .b_wpt_chat_inner > .jobsAnswerContainer, .b_wpt_chat_inner > div .sa_main")&&(n.style.padding="unset"),n.querySelector(".b_wpt_creator")&&(n.style.padding="0px"),n.querySelector(".b_wpt_insights")&&(n.style.paddingTop="0px",n.style.paddingBottom="0px"))}function fu(){var n=_d.querySelector("#sydFirstAnswer .b_wpt_chat");n&&n.querySelector(".b_wpt_creator")&&(n.style.boxShadow="unset")}function eu(){if(gr(),k){if(!i||ei&&fi)return;(h||rt&&!wt)&&sb_st(function(){iu(i)},wr)}}function ur(){if(k){if(!i)return;var n=sj_b.querySelector("#sydwrap_wrapper #b_syd_sm_chat");n&&!n.contains(i)&&i&&(Lib.CssClass.remove(i,dt),ct(n,i,!0))}}function ou(){var n=new URLSearchParams(_w.location.search),t=n.get("sendquery");return t==="1"}function su(){var n=_ge("conv-css-link");n&&!n.classList.contains("css-conv-added")&&(n.setAttribute("rel","stylesheet"),n.setAttribute("class","css-conv-added"))}function hu(n){var v,y,p,w,k,d,i,c,a,f,t,r,u,s,ot;if(!ut){ut=!0;SydFSCHelper.updateResponseToneAfterSerp();CIB.config.features.enableAds=!0;ui&&(d=CIB.config.sydney.request.optionsSets.indexOf("nocacheread"),d>=0&&CIB.config.sydney.request.optionsSets.splice(d,1));bi&&su();i=_ge("b_header");i&&nt&&Lib.CssClass.contains(i,nt)&&(Lib.CssClass.remove(i,nt),SydFSCHelper.LogIntEvent("ConversationViewEnter","Scope",{source:"ShowConv"}));i&&!Lib.CssClass.contains(i,"b_bcbSwitch")&&tr&&Lib.CssClass.add(i,"b_bcbSwitch");et&&SydFSCHelper.removeQueries();c=n&&n.length>1?n[1]:null;a=n&&n.length>2?n[2]:null;h=n&&n.length>3?n[3]==pr:!1;var tt=n&&n.length>5?n[5]:null,st=n&&n.length>6?n[6]:!1,rt=n&&n.length>7?n[7]:!1;if(e||o||(_w.scrollY>0&&_w.scrollTo(0,0),_d.documentElement&&(Lib.CssClass.add(_d.documentElement,"b_disOvflw"),Lib.CssClass.remove(_d.documentElement,"b_delayOvflw"))),e||Lib.CssClass.add(sj_b,g),SydFSCHelper.shouldMove1TAnswers(b,h,c)&&eu(),c&&SydFSCHelper.sendFirstQuery(c.toLowerCase().trim(),a,tt,rt||ou()),CIB.showConversation(),st&&(f=[],tt&&f.push({author:"user",text:tt}),a&&f.push({author:"bot",text:a}),yt&&f.length!=0&&CIB.registerContext(f),CIB.toggleSpeechEnabled(),CIB.triggerMic()),!e&&!o&&(t=_ge("b-scopeListItem-web"),t&&t.children.length>0&&t.parentElement&&((v=t.parentElement)===null||v===void 0?void 0:v.setAttribute("role","tablist"),t.children[0].setAttribute("aria-current","false"),t.children[0].setAttribute("aria-selected","false"),t.children[0].setAttribute("role","tab"),Lib.CssClass.remove(t,"b_active")),r=_ge("b-scopeListItem-conv"),r&&r.children.length>0&&(r.children[0].setAttribute("aria-current","page"),r.children[0].setAttribute("role","tab"),r.children[0].setAttribute("aria-selected","true"),Lib.CssClass.add(r,"b_active"),_ge("b_skip_to_content").setAttribute("tabindex","-1")),u=_d.querySelector(".b_sydConvMode"),s=(k=(w=(p=(y=u===null||u===void 0?void 0:u.querySelector("cib-serp"))===null||y===void 0?void 0:y.shadowRoot)===null||p===void 0?void 0:p.querySelector("cib-action-bar"))===null||w===void 0?void 0:w.shadowRoot)===null||k===void 0?void 0:k.querySelector(".input-container .text-input textarea"),s&&!rt&&s.focus(),u&&s&&rt)){sj_be(u,"keyup",ft);function ft(n){(n.code=="Tab"||n.keyCode==9||n.key=="Tab")&&s.focus();u.removeEventListener("keyup",ft)}}_G[SydFSCHelper.SYD_PREV_MODE]!=_G[SydFSCHelper.SYD_MODE]&&(_G[SydFSCHelper.SYD_PREV_MODE]=_G[SydFSCHelper.SYD_MODE],l&&(ot=n&&n.length>4?n[4]:!1,ot||SydFSCHelper.pushSydHistory(!0)));it&&SydFSCHelper.updateConvFlagInURL(!0);ki||cu();_G[SydFSCHelper.SYD_MODE]="conversation";ut=!1}}function cu(){var n=ClientObserver.getBrowserWidth(),t=ClientObserver.getBrowserHeight();SydFSCHelper.set2TQueryConfigs(n,t,oi)}function lu(){ht=!0}function au(){ht=!1}function fr(n){var t=0;n||(n=window.event);n.wheelDelta?t=n.wheelDelta/60:n.detail&&(t=-n.detail/2);ar(t,tt)}function er(n){ot=n.changedTouches[0].clientY;d=n.touches&&n.touches.length>1?!0:!1}function or(n){var t=n.changedTouches[0].clientY-ot;ar(t,yr,!0)}function sr(n){f=0;y=!1;p=!1;ot=0;d=n.touches&&n.touches.length!==0}function hr(){pi=!0;c&&(lr(),sj_ue(_w,"keydown",hr))}function cr(){wi=!0;c&&(lr(),sj_ue(_w,"resize",cr))}function lr(){sj_ue(_w,"mousewheel",fr);sj_ue(_w,"touchstart",er);sj_ue(_w,"touchmove",or);sj_ue(_w,"touchend",sr)}function vu(){var n=_ge("b_sydConvCont"),t=_ge("b_content");t&&n&&!Lib.CssClass.contains(document.body,"b_sydConvMode")&&Lib.CssClass.add(_ge("b_content"),"b_hide")}function yu(){var t=_ge("b_sydConvCont"),n=_ge("b_content");n&&t&&Lib.CssClass.contains(document.body,"b_sydConvMode")&&Lib.CssClass.remove(n,"b_hide")}function ar(n,t,i){if(i===void 0&&(i=!1),!ht){sb_ct(gt);y||(w=Lib.CssClass.contains(sj_b,g),p=w?pu():_w.scrollY==0);y=!0;p&&(f+=n);i||(gt=sb_st(function(){f=0;y=!1;p=!1},150));var r=!w&&f>lt&&_G[SydFSCHelper.SYD_MODE]!="conversation"&&!d,u=vt&&w&&f<-1*lt&&_G[SydFSCHelper.SYD_MODE]=="conversation"&&!hi&&!d;r?(Log.Log("ClientInst","Codex","ScrollToChat"),!st&&f>t&&(SydFSCHelper.LogIntEvent("ConversationViewEnter","Scope",{source:"ScrollUp"}),SydFSCHelper.triggerSydFSCQueryWithContext())):u&&(Log.Log("ClientInst","Codex","ScrollOutChat"),!st&&f<-1*t&&(SydFSCHelper.LogIntEvent("ConversationViewExit","Scope",{source:"ScrollDown",target:_G[SydFSCHelper.SYD_PREV_MODE]}),sj_evt.fire("hideSydFSC"),sb_st(function(){_w.scrollTo(0,0)},1)))}}function pu(){return!s?!1:Math.abs(s.scrollTop-(s.scrollHeight-s.offsetHeight))<1}function wu(){var t,i,r,e=_ge("b_sydOvrClose"),n,u,f;e&&sj_be(e,"click",function(){sj_evt.fire("hideSydFSC")});n=(r=(i=(t=_d.querySelector("#b_sydConvCont cib-serp"))===null||t===void 0?void 0:t.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-action-bar"))===null||r===void 0?void 0:r.shadowRoot;u=n===null||n===void 0?void 0:n.querySelector(".outside-left-container");u&&(u.style.display="none");ti&&n&&(f=sj_ce("style"),f.textContent="\n                .control.microphone {\n                    display: none;\n                }\n            ",n.appendChild(f))}function bu(n,t){var i,r;n===void 0&&(n=null);t===void 0&&(t=tt);r=(i=_w._sydPayWallConfig)===null||i===void 0?void 0:i.loadSydneyConvResWithPayWall;r?sj_evt.bind("waitlistUpdate:eligible",ir,!0):ir(n);tt=t}function ku(n){CIB.loadConversation(n);SydFSCHelper.lastQuery=SydFSCHelper.getQuery().toLowerCase().trim()}var g="b_sydConvMode",nt="b_sydShowConv",vr="b_sydConvCont",tt=10,lt=10,yr=100,at,vt,yt,l,it,pt=!1,r,rt,i=null,wt=!1,u,bt,kt,s,t,a,v,pr="SYDX_WRAPPER",h=!1,dt="b_sydxwrappedanswer",wr=1e3,ut=!1,ft=!1,f=0,gt,y=!1,p=!1,w=!1,br=!1,b=!1,ni=!1,et=!1,e=!1,o=!1,ot,k=!1,ti=!1,ii=!1,ri=!1,kr=!1,ui=!1,fi=!1,ei=!1,oi=!1,si=!1,hi=!1,c=!1,ci=!1,st=!1,li=!1,ht=!1,ai=!1,vi=!1,yi="",pi=!1,wi=!1,d=!1,bi,ki=!1,di=!1,gi=!1,nr=!1,tr=!1;(typeof sj_b=="undefined"||sj_b==null)&&(window.sj_b=document.body);n.initWithWaitlistUpdate=bu;sj_evt.fire("sydFSC.init");sj_be(_w,"beforeprint",vu);sj_be(_w,"afterprint",yu)})(SydneyFullScreenConv||(SydneyFullScreenConv={}))